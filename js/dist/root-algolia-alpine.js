var BladeAlpineInstantSearch=function(){var e,t,n,r,i=!1,a=!1,o=[];function c(e){let t=o.indexOf(e);-1!==t&&o.splice(t,1)}function s(){i=!1,a=!0;for(let e=0;e<o.length;e++)o[e]();o.length=0,a=!1}var u=!0;function f(e){t=e}var l=[],h=[],d=[];function p(e,t){"function"==typeof t?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):h.push(t=e)}function g(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,r])=>{(void 0===t||t.includes(n))&&(r.forEach(e=>e()),delete e._x_attributeCleanups[n])})}var m=new MutationObserver(P),v=!1;function y(){m.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),v=!0}var b=[],O=!1;function w(e){if(!v)return e();(b=b.concat(m.takeRecords())).length&&!O&&(O=!0,queueMicrotask(()=>{P(b),b.length=0,O=!1})),m.disconnect(),v=!1;let t=e();return y(),t}var S=!1,j=[];function P(e){if(S)return void(j=j.concat(e));let t=[],n=[],r=new Map,i=new Map;for(let a=0;a<e.length;a++)if(!e[a].target._x_ignoreMutationObserver&&("childList"===e[a].type&&(e[a].addedNodes.forEach(e=>1===e.nodeType&&t.push(e)),e[a].removedNodes.forEach(e=>1===e.nodeType&&n.push(e))),"attributes"===e[a].type)){let t=e[a].target,n=e[a].attributeName,o=e[a].oldValue,c=()=>{r.has(t)||r.set(t,[]),r.get(t).push({name:n,value:t.getAttribute(n)})},s=()=>{i.has(t)||i.set(t,[]),i.get(t).push(n)};t.hasAttribute(n)&&null===o?c():t.hasAttribute(n)?(s(),c()):s()}i.forEach((e,t)=>{g(t,e)}),r.forEach((e,t)=>{l.forEach(n=>n(t,e))});for(let e of n)if(!t.includes(e)&&(h.forEach(t=>t(e)),e._x_cleanups))for(;e._x_cleanups.length;)e._x_cleanups.pop()();t.forEach(e=>{e._x_ignoreSelf=!0,e._x_ignore=!0});for(let e of t)n.includes(e)||e.isConnected&&(delete e._x_ignoreSelf,delete e._x_ignore,d.forEach(t=>t(e)),e._x_ignore=!0,e._x_ignoreSelf=!0);t.forEach(e=>{delete e._x_ignoreSelf,delete e._x_ignore}),t=null,n=null,r=null,i=null}function R(e){return F(E(e))}function _(e,t,n){return e._x_dataStack=[t,...E(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(e=>e!==t)}}function x(e,t){let n=e._x_dataStack[0];Object.entries(t).forEach(([e,t])=>{n[e]=t})}function E(e){return e._x_dataStack?e._x_dataStack:"function"==typeof ShadowRoot&&e instanceof ShadowRoot?E(e.host):e.parentNode?E(e.parentNode):[]}function F(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap(e=>Object.keys(e)))),has:(t,n)=>e.some(e=>e.hasOwnProperty(n)),get:(n,r)=>(e.find(e=>{if(e.hasOwnProperty(r)){let n=Object.getOwnPropertyDescriptor(e,r);if(n.get&&n.get._x_alreadyBound||n.set&&n.set._x_alreadyBound)return!0;if((n.get||n.set)&&n.enumerable){let i=n.get,a=n.set,o=n;i=i&&i.bind(t),a=a&&a.bind(t),i&&(i._x_alreadyBound=!0),a&&(a._x_alreadyBound=!0),Object.defineProperty(e,r,{...o,get:i,set:a})}return!0}return!1})||{})[r],set:(t,n,r)=>{let i=e.find(e=>e.hasOwnProperty(n));return i?i[n]=r:e[e.length-1][n]=r,!0}});return t}function I(e){let t=(n,r="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([i,{value:a,enumerable:o}])=>{if(!1===o||void 0===a)return;let c=""===r?i:`${r}.${i}`;var s;"object"==typeof a&&null!==a&&a._x_interceptor?n[i]=a.initialize(e,c,i):"object"!=typeof(s=a)||Array.isArray(s)||null===s||a===n||a instanceof Element||t(a,c)})};return t(e)}function A(e,t=(()=>{})){let n={initialValue:void 0,_x_interceptor:!0,initialize(t,n,r){return e(this.initialValue,()=>function(e,t){return t.split(".").reduce((e,t)=>e[t],e)}(t,n),e=>T(t,n,e),n,r)}};return t(n),e=>{if("object"==typeof e&&null!==e&&e._x_interceptor){let t=n.initialize.bind(n);n.initialize=(r,i,a)=>{let o=e.initialize(r,i,a);return n.initialValue=o,t(r,i,a)}}else n.initialValue=e;return n}}function T(e,t,n){if("string"==typeof t&&(t=t.split(".")),1!==t.length){if(0===t.length)throw error;return e[t[0]]||(e[t[0]]={}),T(e[t[0]],t.slice(1),n)}e[t[0]]=n}var D={};function N(e,t){D[e]=t}function k(e,t){return Object.entries(D).forEach(([n,r])=>{Object.defineProperty(e,`$${n}`,{get(){let[e,n]=G(t);return e={interceptor:A,...e},p(t,n),r(t,e)},enumerable:!1})}),e}function C(e,t,n,...r){try{return n(...r)}catch(n){L(n,e,t)}}function L(e,t,n){Object.assign(e,{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}\n\n${n?'Expression: "'+n+'"\n\n':""}`,t),setTimeout(()=>{throw e},0)}var W=!0;function H(e,t,n={}){let r;return M(e,t)(e=>r=e,n),r}function M(...e){return U(...e)}var U=Q;function Q(e,t){let n={};k(n,e);let r=[n,...E(e)];if("function"==typeof t)return function(e,t){return(n=(()=>{}),{scope:r={},params:i=[]}={})=>{$(n,t.apply(F([r,...e]),i))}}(r,t);let i=function(e,t,n){let r=function(e,t){if(q[e])return q[e];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(() => { ${e} })()`:e,i=(()=>{try{return new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`)}catch(n){return L(n,t,e),Promise.resolve()}})();return q[e]=i,i}(t,n);return(i=(()=>{}),{scope:a={},params:o=[]}={})=>{r.result=void 0,r.finished=!1;let c=F([a,...e]);if("function"==typeof r){let e=r(r,c).catch(e=>L(e,n,t));r.finished?($(i,r.result,c,o,n),r.result=void 0):e.then(e=>{$(i,e,c,o,n)}).catch(e=>L(e,n,t)).finally(()=>r.result=void 0)}}}(r,t,e);return C.bind(null,e,t,i)}var q={};function $(e,t,n,r,i){if(W&&"function"==typeof t){let a=t.apply(n,r);a instanceof Promise?a.then(t=>$(e,t,n,r)).catch(e=>L(e,i,t)):e(a)}else e(t)}var B="x-";function V(e=""){return B+e}var z={};function J(e,t){z[e]=t}function K(e,t,n){let r={};return Array.from(t).map(te((e,t)=>r[e]=t)).filter(ie).map(function(e,t){return({name:n,value:r})=>{let i=n.match(ae()),a=n.match(/:([a-zA-Z0-9\-:]+)/),o=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],c=t||e[n]||n;return{type:i?i[1]:null,value:a?a[1]:null,modifiers:o.map(e=>e.replace(".","")),expression:r,original:c}}}(r,n)).sort(se).map(t=>function(e,t){let n=z[t.type]||(()=>{}),[r,i]=G(e);!function(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}(e,t.original,i);let a=()=>{e._x_ignore||e._x_ignoreSelf||(n.inline&&n.inline(e,t,r),n=n.bind(n,e,t,r),Y?Z.get(X).push(n):n())};return a.runCleanups=i,a}(e,t))}var Y=!1,Z=new Map,X=Symbol();function G(e){let r=[],[i,a]=function(e){let r=()=>{};return[i=>{let a=t(i);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(e=>e())}),e._x_effects.add(a),r=()=>{void 0!==a&&(e._x_effects.delete(a),n(a))},a},()=>{r()}]}(e);return r.push(a),[{Alpine:$e,effect:i,cleanup:e=>r.push(e),evaluateLater:M.bind(M,e),evaluate:H.bind(H,e)},()=>r.forEach(e=>e())]}var ee=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r});function te(e=(()=>{})){return({name:t,value:n})=>{let{name:r,value:i}=ne.reduce((e,t)=>t(e),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:i}}}var ne=[];function re(e){ne.push(e)}function ie({name:e}){return ae().test(e)}var ae=()=>new RegExp(`^${B}([^:^.]+)\\b`),oe="DEFAULT",ce=["ignore","ref","data","id","bind","init","for","mask","model","modelable","transition","show","if",oe,"teleport","element"];function se(e,t){let n=-1===ce.indexOf(e.type)?oe:e.type,r=-1===ce.indexOf(t.type)?oe:t.type;return ce.indexOf(n)-ce.indexOf(r)}function ue(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}var fe=[],le=!1;function he(e=(()=>{})){return queueMicrotask(()=>{le||setTimeout(()=>{de()})}),new Promise(t=>{fe.push(()=>{e(),t()})})}function de(){for(le=!1;fe.length;)fe.shift()()}function pe(e,t){if("function"==typeof ShadowRoot&&e instanceof ShadowRoot)return void Array.from(e.children).forEach(e=>pe(e,t));let n=!1;if(t(e,()=>n=!0),n)return;let r=e.firstElementChild;for(;r;)pe(r,t),r=r.nextElementSibling}function ge(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var me=[],ve=[];function ye(){return me.map(e=>e())}function be(){return me.concat(ve).map(e=>e())}function Oe(e){me.push(e)}function we(e){ve.push(e)}function Se(e,t=!1){return je(e,e=>{if((t?be():ye()).some(t=>e.matches(t)))return!0})}function je(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)return je(e.parentElement,t)}}function Pe(e,t=pe){!function(n){Y=!0;let r=Symbol();X=r,Z.set(r,[]),t(e,(e,t)=>{K(e,e.attributes).forEach(e=>e()),e._x_ignore&&t()}),Y=!1,(()=>{for(;Z.get(r).length;)Z.get(r).shift()();Z.delete(r)})()}()}function Re(e,t){return Array.isArray(t)?_e(e,t.join(" ")):"object"==typeof t&&null!==t?function(e,t){let n=e=>e.split(" ").filter(Boolean),r=Object.entries(t).flatMap(([e,t])=>!!t&&n(e)).filter(Boolean),i=Object.entries(t).flatMap(([e,t])=>!t&&n(e)).filter(Boolean),a=[],o=[];return i.forEach(t=>{e.classList.contains(t)&&(e.classList.remove(t),o.push(t))}),r.forEach(t=>{e.classList.contains(t)||(e.classList.add(t),a.push(t))}),()=>{o.forEach(t=>e.classList.add(t)),a.forEach(t=>e.classList.remove(t))}}(e,t):"function"==typeof t?Re(e,t()):_e(e,t)}function _e(e,t){return t=!0===t?t="":t||"",n=t.split(" ").filter(t=>!e.classList.contains(t)).filter(Boolean),e.classList.add(...n),()=>{e.classList.remove(...n)};var n}function xe(e,t){return"object"==typeof t&&null!==t?function(e,t){let n={};return Object.entries(t).forEach(([t,r])=>{n[t]=e.style[t],t.startsWith("--")||(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),e.style.setProperty(t,r)}),setTimeout(()=>{0===e.style.length&&e.removeAttribute("style")}),()=>{xe(e,n)}}(e,t):function(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}(e,t)}function Ee(e,t=(()=>{})){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}function Fe(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(n=(()=>{}),r=(()=>{})){Ae(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,r)},out(n=(()=>{}),r=(()=>{})){Ae(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,r)}})}function Ie(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Ie(t)}function Ae(e,t,{during:n,start:r,end:i}={},a=(()=>{}),o=(()=>{})){if(e._x_transitioning&&e._x_transitioning.cancel(),0===Object.keys(n).length&&0===Object.keys(r).length&&0===Object.keys(i).length)return a(),void o();let c,s,u;!function(e,t){let n,r,i,a=Ee(()=>{w(()=>{n=!0,r||t.before(),i||(t.end(),de()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(e){this.beforeCancels.push(e)},cancel:Ee(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();a()}),finish:a},w(()=>{t.start(),t.during()}),le=!0,requestAnimationFrame(()=>{if(n)return;let a=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s","")),o=1e3*Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""));0===a&&(a=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),w(()=>{t.before()}),r=!0,requestAnimationFrame(()=>{n||(w(()=>{t.end()}),de(),setTimeout(e._x_transitioning.finish,a+o),i=!0)})})}(e,{start(){c=t(e,r)},during(){s=t(e,n)},before:a,end(){c(),u=t(e,i)},after:o,cleanup(){s(),u()}})}function Te(e,t,n){if(-1===e.indexOf(t))return n;const r=e[e.indexOf(t)+1];if(!r)return n;if("scale"===t&&isNaN(r))return n;if("duration"===t){let e=r.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}J("transition",(e,{value:t,modifiers:n,expression:r},{evaluate:i})=>{"function"==typeof r&&(r=i(r)),r?function(e,t,n){Fe(e,Re,""),{enter:t=>{e._x_transition.enter.during=t},"enter-start":t=>{e._x_transition.enter.start=t},"enter-end":t=>{e._x_transition.enter.end=t},leave:t=>{e._x_transition.leave.during=t},"leave-start":t=>{e._x_transition.leave.start=t},"leave-end":t=>{e._x_transition.leave.end=t}}[n](t)}(e,r,t):function(e,t,n){Fe(e,xe);let r=!t.includes("in")&&!t.includes("out")&&!n,i=r||t.includes("in")||["enter"].includes(n),a=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter((e,n)=>n<t.indexOf("out"))),t.includes("out")&&!r&&(t=t.filter((e,n)=>n>t.indexOf("out")));let o=!t.includes("opacity")&&!t.includes("scale"),c=o||t.includes("opacity")?0:1,s=o||t.includes("scale")?Te(t,"scale",95)/100:1,u=Te(t,"delay",0),f=Te(t,"origin","center"),l="opacity, transform",h=Te(t,"duration",150)/1e3,d=Te(t,"duration",75)/1e3,p="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(e._x_transition.enter.during={transformOrigin:f,transitionDelay:u,transitionProperty:l,transitionDuration:`${h}s`,transitionTimingFunction:p},e._x_transition.enter.start={opacity:c,transform:`scale(${s})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),a&&(e._x_transition.leave.during={transformOrigin:f,transitionDelay:u,transitionProperty:l,transitionDuration:`${d}s`,transitionTimingFunction:p},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:c,transform:`scale(${s})`})}(e,n,t)}),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){let i=()=>{"visible"===document.visibilityState?requestAnimationFrame(n):setTimeout(n)};t?e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):i():e._x_transition?e._x_transition.in(n):i():(e._x_hidePromise=e._x_transition?new Promise((t,n)=>{e._x_transition.out(()=>{},()=>t(r)),e._x_transitioning.beforeCancel(()=>n({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let t=Ie(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):queueMicrotask(()=>{let t=e=>{let n=Promise.all([e._x_hidePromise,...(e._x_hideChildren||[]).map(t)]).then(([e])=>e());return delete e._x_hidePromise,delete e._x_hideChildren,n};t(e).catch(e=>{if(!e.isFromCancelledTransition)throw e})})}))};var De=!1;function Ne(e,t=(()=>{})){return(...n)=>De?t(...n):e(...n)}function ke(t,n,r,i=[]){switch(t._x_bindings||(t._x_bindings=e({})),t._x_bindings[n]=r,n=i.includes("camel")?n.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase()):n){case"value":!function(e,t){if("radio"===e.type)void 0===e.attributes.value&&(e.value=t),window.fromModel&&(e.checked=Ce(e.value,t));else if("checkbox"===e.type)Number.isInteger(t)?e.value=t:Number.isInteger(t)||Array.isArray(t)||"boolean"==typeof t||[null,void 0].includes(t)?e.checked=Array.isArray(t)?t.some(t=>Ce(t,e.value)):!!t:e.value=String(t);else if("SELECT"===e.tagName)!function(e,t){const n=[].concat(t).map(e=>e+"");Array.from(e.options).forEach(e=>{e.selected=n.includes(e.value)})}(e,t);else{if(e.value===t)return;e.value=t}}(t,r);break;case"style":!function(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=xe(e,t)}(t,r);break;case"class":!function(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=Re(e,t)}(t,r);break;default:!function(e,t,n){[null,void 0,!1].includes(n)&&function(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}(t)?e.removeAttribute(t):(Le(t)&&(n=t),function(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}(e,t,n))}(t,n,r)}}function Ce(e,t){return e==t}function Le(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function We(e,t){var n;return function(){var r=this,i=arguments,a=function(){n=null,e.apply(r,i)};clearTimeout(n),n=setTimeout(a,t)}}function He(e,t){let n;return function(){let r=this,i=arguments;n||(e.apply(r,i),n=!0,setTimeout(()=>n=!1,t))}}var Me={},Ue=!1,Qe={},qe={},$e={get reactive(){return e},get release(){return n},get effect(){return t},get raw(){return r},version:"3.10.0",flushAndStopDeferringMutations:function(){S=!1,P(j),j=[]},dontAutoEvaluateFunctions:function(e){let t=W;W=!1,e(),W=t},disableEffectScheduling:function(e){u=!1,e(),u=!0},setReactivityEngine:function(c){e=c.reactive,n=c.release,t=e=>c.effect(e,{scheduler:e=>{u?function(e){var t;o.includes(t=e)||o.push(t),a||i||(i=!0,queueMicrotask(s))}(e):e()}}),r=c.raw},closestDataStack:E,skipDuringClone:Ne,addRootSelector:Oe,addInitSelector:we,addScopeToNode:_,deferMutations:function(){S=!0},mapAttributes:re,evaluateLater:M,setEvaluator:function(e){U=e},mergeProxies:F,findClosest:je,closestRoot:Se,interceptor:A,transition:Ae,setStyles:xe,mutateDom:w,directive:J,throttle:He,debounce:We,evaluate:H,initTree:Pe,nextTick:he,prefixed:V,prefix:function(e){B=e},plugin:function(e){e($e)},magic:N,store:function(t,n){if(Ue||(Me=e(Me),Ue=!0),void 0===n)return Me[t];Me[t]=n,"object"==typeof n&&null!==n&&n.hasOwnProperty("init")&&"function"==typeof n.init&&Me[t].init(),I(Me[t])},start:function(){document.body||ge("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),ue(document,"alpine:init"),ue(document,"alpine:initializing"),y(),d.push(e=>Pe(e,pe)),p(e=>{pe(e,e=>g(e))}),l.push((e,t)=>{K(e,t).forEach(e=>e())}),Array.from(document.querySelectorAll(be())).filter(e=>!Se(e.parentElement,!0)).forEach(e=>{Pe(e)}),ue(document,"alpine:initialized")},clone:function(e,r){r._x_dataStack||(r._x_dataStack=e._x_dataStack),De=!0,function(e){let i=t;f((e,t)=>{let r=i(e);return n(r),()=>{}}),function(e){let t=!1;Pe(e,(e,n)=>{pe(e,(e,r)=>{if(t&&function(e){return ye().some(t=>e.matches(t))}(e))return r();t=!0,n(e,r)})})}(r),f(i)}(),De=!1},bound:function(e,t,n){if(e._x_bindings&&void 0!==e._x_bindings[t])return e._x_bindings[t];let r=e.getAttribute(t);return null===r?"function"==typeof n?n():n:Le(t)?!![t,"true"].includes(r):""===r||r},$data:R,data:function(e,t){qe[e]=t},bind:function(e,t){Qe[e]="function"!=typeof t?()=>t:t}};function Be(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}var Ve,ze={},Je=Object.assign,Ke=Object.prototype.hasOwnProperty,Ye=(e,t)=>Ke.call(e,t),Ze=Array.isArray,Xe=e=>"[object Map]"===nt(e),Ge=e=>"symbol"==typeof e,et=e=>null!==e&&"object"==typeof e,tt=Object.prototype.toString,nt=e=>tt.call(e),rt=e=>"string"==typeof e&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,it=(e,t)=>e!==t&&(e==e||t==t),at=new WeakMap,ot=[],ct=Symbol(""),st=Symbol(""),ut=0;function ft(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var lt=!0,ht=[];function dt(){const e=ht.pop();lt=void 0===e||e}function pt(e,t,n){if(!lt||void 0===Ve)return;let r=at.get(e);r||at.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(Ve)||(i.add(Ve),Ve.deps.push(i))}function gt(e,t,n,r,i,a){const o=at.get(e);if(!o)return;const c=new Set,s=e=>{e&&e.forEach(e=>{(e!==Ve||e.allowRecurse)&&c.add(e)})};if("clear"===t)o.forEach(s);else if("length"===n&&Ze(e))o.forEach((e,t)=>{("length"===t||t>=r)&&s(e)});else switch(void 0!==n&&s(o.get(n)),t){case"add":Ze(e)?rt(n)&&s(o.get("length")):(s(o.get(ct)),Xe(e)&&s(o.get(st)));break;case"delete":Ze(e)||(s(o.get(ct)),Xe(e)&&s(o.get(st)));break;case"set":Xe(e)&&s(o.get(ct))}c.forEach(e=>{e.options.scheduler?e.options.scheduler(e):e()})}var mt=Be("__proto__,__v_isRef,__isVue"),vt=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Ge)),yt=jt(),bt=jt(!1,!0),Ot=jt(!0),wt=jt(!0,!0),St={};function jt(e=!1,t=!1){return function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&i===(e?t?Zt:Yt:t?Kt:Jt).get(n))return n;const a=Ze(n);if(!e&&a&&Ye(St,r))return Reflect.get(St,r,i);const o=Reflect.get(n,r,i);return(Ge(r)?vt.has(r):mt(r))?o:(e||pt(n,0,r),t?o:nn(o)?a&&rt(r)?o:o.value:et(o)?e?Gt(o):Xt(o):o)}}function Pt(e=!1){return function(t,n,r,i){let a=t[n];if(!e&&(r=tn(r),a=tn(a),!Ze(t)&&nn(a)&&!nn(r)))return a.value=r,!0;const o=Ze(t)&&rt(n)?Number(n)<t.length:Ye(t,n),c=Reflect.set(t,n,r,i);return t===tn(i)&&(o?it(r,a)&&gt(t,"set",n,r):gt(t,"add",n,r)),c}}["includes","indexOf","lastIndexOf"].forEach(e=>{const t=Array.prototype[e];St[e]=function(...e){const n=tn(this);for(let e=0,t=this.length;e<t;e++)pt(n,0,e+"");const r=t.apply(n,e);return-1===r||!1===r?t.apply(n,e.map(tn)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{const t=Array.prototype[e];St[e]=function(...e){ht.push(lt),lt=!1;const n=t.apply(this,e);return dt(),n}});var Rt={get:yt,set:Pt(),deleteProperty:function(e,t){const n=Ye(e,t),r=Reflect.deleteProperty(e,t);return r&&n&&gt(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return Ge(t)&&vt.has(t)||pt(e,0,t),n},ownKeys:function(e){return pt(e,0,Ze(e)?"length":ct),Reflect.ownKeys(e)}},_t={get:Ot,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},xt=(Je({},Rt,{get:bt,set:Pt(!0)}),Je({},_t,{get:wt}),e=>et(e)?Xt(e):e),Et=e=>et(e)?Gt(e):e,Ft=e=>e,It=e=>Reflect.getPrototypeOf(e);function At(e,t,n=!1,r=!1){const i=tn(e=e.__v_raw),a=tn(t);t!==a&&!n&&pt(i,0,t),!n&&pt(i,0,a);const{has:o}=It(i),c=r?Ft:n?Et:xt;return o.call(i,t)?c(e.get(t)):o.call(i,a)?c(e.get(a)):void(e!==i&&e.get(t))}function Tt(e,t=!1){const n=this.__v_raw,r=tn(n),i=tn(e);return e!==i&&!t&&pt(r,0,e),!t&&pt(r,0,i),e===i?n.has(e):n.has(e)||n.has(i)}function Dt(e,t=!1){return e=e.__v_raw,!t&&pt(tn(e),0,ct),Reflect.get(e,"size",e)}function Nt(e){e=tn(e);const t=tn(this);return It(t).has.call(t,e)||(t.add(e),gt(t,"add",e,e)),this}function kt(e,t){t=tn(t);const n=tn(this),{has:r,get:i}=It(n);let a=r.call(n,e);a||(e=tn(e),a=r.call(n,e));const o=i.call(n,e);return n.set(e,t),a?it(t,o)&&gt(n,"set",e,t):gt(n,"add",e,t),this}function Ct(e){const t=tn(this),{has:n,get:r}=It(t);let i=n.call(t,e);i||(e=tn(e),i=n.call(t,e)),r&&r.call(t,e);const a=t.delete(e);return i&&gt(t,"delete",e,void 0),a}function Lt(){const e=tn(this),t=0!==e.size,n=e.clear();return t&&gt(e,"clear",void 0,void 0),n}function Wt(e,t){return function(n,r){const i=this,a=i.__v_raw,o=tn(a),c=t?Ft:e?Et:xt;return!e&&pt(o,0,ct),a.forEach((e,t)=>n.call(r,c(e),c(t),i))}}function Ht(e,t,n){return function(...r){const i=this.__v_raw,a=tn(i),o=Xe(a),c="entries"===e||e===Symbol.iterator&&o,s="keys"===e&&o,u=i[e](...r),f=n?Ft:t?Et:xt;return!t&&pt(a,0,s?st:ct),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:c?[f(e[0]),f(e[1])]:f(e),done:t}},[Symbol.iterator](){return this}}}}function Mt(e){return function(...t){return"delete"!==e&&this}}var Ut={get(e){return At(this,e)},get size(){return Dt(this)},has:Tt,add:Nt,set:kt,delete:Ct,clear:Lt,forEach:Wt(!1,!1)},Qt={get(e){return At(this,e,!1,!0)},get size(){return Dt(this)},has:Tt,add:Nt,set:kt,delete:Ct,clear:Lt,forEach:Wt(!1,!0)},qt={get(e){return At(this,e,!0)},get size(){return Dt(this,!0)},has(e){return Tt.call(this,e,!0)},add:Mt("add"),set:Mt("set"),delete:Mt("delete"),clear:Mt("clear"),forEach:Wt(!0,!1)},$t={get(e){return At(this,e,!0,!0)},get size(){return Dt(this,!0)},has(e){return Tt.call(this,e,!0)},add:Mt("add"),set:Mt("set"),delete:Mt("delete"),clear:Mt("clear"),forEach:Wt(!0,!0)};function Bt(e,t){const n=t?e?$t:Qt:e?qt:Ut;return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(Ye(n,r)&&r in t?n:t,r,i)}["keys","values","entries",Symbol.iterator].forEach(e=>{Ut[e]=Ht(e,!1,!1),qt[e]=Ht(e,!0,!1),Qt[e]=Ht(e,!1,!0),$t[e]=Ht(e,!0,!0)});var Vt={get:Bt(!1,!1)},zt={get:Bt(!0,!1)},Jt=new WeakMap,Kt=new WeakMap,Yt=new WeakMap,Zt=new WeakMap;function Xt(e){return e&&e.__v_isReadonly?e:en(e,!1,Rt,Vt,Jt)}function Gt(e){return en(e,!0,_t,zt,Yt)}function en(e,t,n,r,i){if(!et(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const o=(c=e).__v_skip||!Object.isExtensible(c)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>nt(e).slice(8,-1))(c));var c;if(0===o)return e;const s=new Proxy(e,2===o?r:n);return i.set(e,s),s}function tn(e){return e&&tn(e.__v_raw)||e}function nn(e){return Boolean(e&&!0===e.__v_isRef)}N("nextTick",()=>he),N("dispatch",e=>ue.bind(ue,e)),N("watch",(e,{evaluateLater:t,effect:n})=>(r,i)=>{let a,o=t(r),c=!0,s=n(()=>o(e=>{JSON.stringify(e),c?a=e:queueMicrotask(()=>{i(e,a),a=e}),c=!1}));e._x_effects.delete(s)}),N("store",function(){return Me}),N("data",e=>R(e)),N("root",e=>Se(e)),N("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=F(function(e){let t=[],n=e;for(;n;)n._x_refs&&t.push(n._x_refs),n=n.parentNode;return t}(e))),e._x_refs_proxy));var rn={};function an(e){return rn[e]||(rn[e]=0),++rn[e]}function on(e,t,n){N(t,t=>ge(`You can't use [$${directiveName}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,t))}N("id",e=>(t,n=null)=>{let r=function(e,t){return je(e,e=>{if(e._x_ids&&e._x_ids[t])return!0})}(e,t),i=r?r._x_ids[t]:an(t);return n?`${t}-${i}-${n}`:`${t}-${i}`}),N("el",e=>e),on("Focus","focus","focus"),on("Persist","persist","persist"),J("modelable",(e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t),a=()=>{let e;return i(t=>e=t),e},o=r(`${t} = __placeholder`),c=e=>o(()=>{},{scope:{__placeholder:e}}),s=a();c(s),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let t=e._x_model.get,r=e._x_model.set;n(()=>c(t())),n(()=>r(a()))})}),J("teleport",(e,{expression:t},{cleanup:n})=>{"template"!==e.tagName.toLowerCase()&&ge("x-teleport can only be used on a <template> tag",e);let r=document.querySelector(t);r||ge(`Cannot find x-teleport element for selector: "${t}"`);let i=e.content.cloneNode(!0).firstElementChild;e._x_teleport=i,i._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach(t=>{i.addEventListener(t,t=>{t.stopPropagation(),e.dispatchEvent(new t.constructor(t.type,t))})}),_(i,{},e),w(()=>{r.appendChild(i),Pe(i),i._x_ignore=!0}),n(()=>i.remove())});var cn=()=>{};function sn(e,t,n,r){let i=e,a=e=>r(e),o={},c=(e,t)=>n=>t(e,n);if(n.includes("dot")&&(t=t.replace(/-/g,".")),n.includes("camel")&&(t=t.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())),n.includes("passive")&&(o.passive=!0),n.includes("capture")&&(o.capture=!0),n.includes("window")&&(i=window),n.includes("document")&&(i=document),n.includes("prevent")&&(a=c(a,(e,t)=>{t.preventDefault(),e(t)})),n.includes("stop")&&(a=c(a,(e,t)=>{t.stopPropagation(),e(t)})),n.includes("self")&&(a=c(a,(t,n)=>{n.target===e&&t(n)})),(n.includes("away")||n.includes("outside"))&&(i=document,a=c(a,(t,n)=>{e.contains(n.target)||!1!==n.target.isConnected&&(e.offsetWidth<1&&e.offsetHeight<1||!1!==e._x_isShown&&t(n))})),n.includes("once")&&(a=c(a,(e,n)=>{e(n),i.removeEventListener(t,a,o)})),a=c(a,(e,r)=>{(function(e){return["keydown","keyup"].includes(e)})(t)&&function(e,t){let n=t.filter(e=>!["window","document","prevent","stop","once"].includes(e));if(n.includes("debounce")){let e=n.indexOf("debounce");n.splice(e,un((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===n.length)return!1;if(1===n.length&&fn(e.key).includes(n[0]))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter(e=>n.includes(e));return n=n.filter(e=>!r.includes(e)),!(r.length>0&&r.filter(t=>("cmd"!==t&&"super"!==t||(t="meta"),e[`${t}Key`])).length===r.length&&fn(e.key).includes(n[0]))}(r,n)||e(r)}),n.includes("debounce")){let e=n[n.indexOf("debounce")+1]||"invalid-wait",t=un(e.split("ms")[0])?Number(e.split("ms")[0]):250;a=We(a,t)}if(n.includes("throttle")){let e=n[n.indexOf("throttle")+1]||"invalid-wait",t=un(e.split("ms")[0])?Number(e.split("ms")[0]):250;a=He(a,t)}return i.addEventListener(t,a,o),()=>{i.removeEventListener(t,a,o)}}function un(e){return!Array.isArray(e)&&!isNaN(e)}function fn(e){if(!e)return[];e=e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let t={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(e=>e)}function ln(e){let t=e?parseFloat(e):null;return n=t,Array.isArray(n)||isNaN(n)?e:t;var n}function hn(e,t,n,r){let i={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(e=>e.trim()).forEach((e,n)=>{i[e]=t[n]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&"object"==typeof t?e.item.replace("{","").replace("}","").split(",").map(e=>e.trim()).forEach(e=>{i[e]=t[e]}):i[e.item]=t,e.index&&(i[e.index]=n),e.collection&&(i[e.collection]=r),i}function dn(){}function pn(e,t,n){J(t,r=>ge(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}cn.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})},J("ignore",cn),J("effect",(e,{expression:t},{effect:n})=>n(M(e,t))),J("model",(e,{modifiers:t,expression:n},{effect:r,cleanup:i})=>{let a=M(e,n),o=M(e,`${n} = rightSideOfExpression($event, ${n})`);var c="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let s=function(e,t,n){return"radio"===e.type&&w(()=>{e.hasAttribute("name")||e.setAttribute("name",n)}),(n,r)=>w(()=>{if(n instanceof CustomEvent&&void 0!==n.detail)return n.detail||n.target.value;if("checkbox"===e.type){if(Array.isArray(r)){let e=t.includes("number")?ln(n.target.value):n.target.value;return n.target.checked?r.concat([e]):r.filter(t=>!(t==e))}return n.target.checked}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map(e=>ln(e.value||e.text)):Array.from(n.target.selectedOptions).map(e=>e.value||e.text);{let e=n.target.value;return t.includes("number")?ln(e):t.includes("trim")?e.trim():e}})}(e,t,n),u=sn(e,c,t,e=>{o(()=>{},{scope:{$event:e,rightSideOfExpression:s}})});e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=u,i(()=>e._x_removeModelListeners.default());let f=M(e,`${n} = __placeholder`);e._x_model={get(){let e;return a(t=>e=t),e},set(e){f(()=>{},{scope:{__placeholder:e}})}},e._x_forceModelUpdate=()=>{a(t=>{void 0===t&&n.match(/\./)&&(t=""),window.fromModel=!0,w(()=>ke(e,"value",t)),delete window.fromModel})},r(()=>{t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate()})}),J("cloak",e=>queueMicrotask(()=>w(()=>e.removeAttribute(V("cloak"))))),we(()=>`[${V("init")}]`),J("init",Ne((e,{expression:t},{evaluate:n})=>"string"==typeof t?!!t.trim()&&n(t,{},!1):n(t,{},!1))),J("text",(e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t);n(()=>{i(t=>{w(()=>{e.textContent=t})})})}),J("html",(e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t);n(()=>{i(t=>{w(()=>{e.innerHTML=t,e._x_ignoreSelf=!0,Pe(e),delete e._x_ignoreSelf})})})}),re(ee(":",V("bind:"))),J("bind",(e,{value:t,modifiers:n,expression:r,original:i},{effect:a})=>{if(!t)return function(e,t,n,r){let i={};var a;a=i,Object.entries(Qe).forEach(([e,t])=>{Object.defineProperty(a,e,{get:()=>(...e)=>t(...e)})});let o=M(e,t),c=[];for(;c.length;)c.pop()();o(t=>{let r=Object.entries(t).map(([e,t])=>({name:e,value:t})),i=function(e){return Array.from(e).map(te()).filter(e=>!ie(e))}(r);r=r.map(e=>i.find(t=>t.name===e.name)?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e),K(e,r,n).map(e=>{c.push(e.runCleanups),e()})},{scope:i})}(e,r,i);if("key"===t)return function(e,t){e._x_keyExpression=t}(e,r);let o=M(e,r);a(()=>o(i=>{void 0===i&&r.match(/\./)&&(i=""),w(()=>ke(e,t,i,n))}))}),Oe(()=>`[${V("data")}]`),J("data",Ne((t,{expression:n},{cleanup:r})=>{n=""===n?"{}":n;let i={};k(i,t);let a={};var o,c;o=a,c=i,Object.entries(qe).forEach(([e,t])=>{Object.defineProperty(o,e,{get:()=>(...e)=>t.bind(c)(...e),enumerable:!1})});let s=H(t,n,{scope:a});void 0===s&&(s={}),k(s,t);let u=e(s);I(u);let f=_(t,u);u.init&&H(t,u.init),r(()=>{u.destroy&&H(t,u.destroy),f()})})),J("show",(e,{modifiers:t,expression:n},{effect:r})=>{let i=M(e,n);e._x_doHide||(e._x_doHide=()=>{w(()=>e.style.display="none")}),e._x_doShow||(e._x_doShow=()=>{w(()=>{1===e.style.length&&"none"===e.style.display?e.removeAttribute("style"):e.style.removeProperty("display")})});let a,o=()=>{e._x_doHide(),e._x_isShown=!1},c=()=>{e._x_doShow(),e._x_isShown=!0},s=()=>setTimeout(c),u=Ee(e=>e?c():o(),t=>{"function"==typeof e._x_toggleAndCascadeWithTransitions?e._x_toggleAndCascadeWithTransitions(e,t,c,o):t?s():o()}),f=!0;r(()=>i(e=>{(f||e!==a)&&(t.includes("immediate")&&(e?s():o()),u(e),a=e,f=!1)}))}),J("for",(t,{expression:n},{effect:r,cleanup:i})=>{let a=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=e.match(/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/);if(!n)return;let r={};r.items=n[2].trim();let i=n[1].replace(/^\s*\(|\)\s*$/g,"").trim(),a=i.match(t);return a?(r.item=i.replace(t,"").trim(),r.index=a[1].trim(),a[2]&&(r.collection=a[2].trim())):r.item=i,r}(n),o=M(t,a.items),s=M(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},r(()=>function(t,n,r,i){let a=t;r(r=>{var o;o=r,!Array.isArray(o)&&!isNaN(o)&&r>=0&&(r=Array.from(Array(r).keys(),e=>e+1)),void 0===r&&(r=[]);let s=t._x_lookup,u=t._x_prevKeys,f=[],l=[];if("object"!=typeof(h=r)||Array.isArray(h))for(let e=0;e<r.length;e++){let t=hn(n,r[e],e,r);i(e=>l.push(e),{scope:{index:e,...t}}),f.push(t)}else r=Object.entries(r).map(([e,t])=>{let a=hn(n,t,e,r);i(e=>l.push(e),{scope:{index:e,...a}}),f.push(a)});var h;let d=[],p=[],g=[],m=[];for(let e=0;e<u.length;e++){let t=u[e];-1===l.indexOf(t)&&g.push(t)}u=u.filter(e=>!g.includes(e));let v="template";for(let e=0;e<l.length;e++){let t=l[e],n=u.indexOf(t);if(-1===n)u.splice(e,0,t),d.push([v,e]);else if(n!==e){let t=u.splice(e,1)[0],r=u.splice(n-1,1)[0];u.splice(e,0,r),u.splice(n,0,t),p.push([t,r])}else m.push(t);v=t}for(let e=0;e<g.length;e++){let t=g[e];s[t]._x_effects&&s[t]._x_effects.forEach(c),s[t].remove(),s[t]=null,delete s[t]}for(let e=0;e<p.length;e++){let[t,n]=p[e],r=s[t],i=s[n],a=document.createElement("div");w(()=>{i.after(a),r.after(i),i._x_currentIfEl&&i.after(i._x_currentIfEl),a.before(r),r._x_currentIfEl&&r.after(r._x_currentIfEl),a.remove()}),x(i,f[l.indexOf(n)])}for(let t=0;t<d.length;t++){let[n,r]=d[t],i="template"===n?a:s[n];i._x_currentIfEl&&(i=i._x_currentIfEl);let o=f[r],c=l[r],u=document.importNode(a.content,!0).firstElementChild;_(u,e(o),a),w(()=>{i.after(u),Pe(u)}),"object"==typeof c&&ge("x-for key cannot be an object, it must be a string or an integer",a),s[c]=u}for(let e=0;e<m.length;e++)x(s[m[e]],f[l.indexOf(m[e])]);a._x_prevKeys=l})}(t,a,o,s)),i(()=>{Object.values(t._x_lookup).forEach(e=>e.remove()),delete t._x_prevKeys,delete t._x_lookup})}),dn.inline=(e,{expression:t},{cleanup:n})=>{let r=Se(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n(()=>delete r._x_refs[t])},J("ref",dn),J("if",(e,{expression:t},{effect:n,cleanup:r})=>{let i=M(e,t);n(()=>i(t=>{t?(()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(!0).firstElementChild;_(t,{},e),w(()=>{e.after(t),Pe(t)}),e._x_currentIfEl=t,e._x_undoIf=()=>{pe(t,e=>{e._x_effects&&e._x_effects.forEach(c)}),t.remove(),delete e._x_currentIfEl}})():e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)})),r(()=>e._x_undoIf&&e._x_undoIf())}),J("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(t=>function(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=an(t))}(e,t))}),re(ee("@",V("on:"))),J("on",Ne((e,{value:t,modifiers:n,expression:r},{cleanup:i})=>{let a=r?M(e,r):()=>{};"template"===e.tagName.toLowerCase()&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let o=sn(e,t,n,e=>{a(()=>{},{scope:{$event:e},params:[e]})});i(()=>o())})),pn("Collapse","collapse","collapse"),pn("Intersect","intersect","intersect"),pn("Focus","trap","focus"),pn("Mask","mask","mask"),$e.setEvaluator(Q),$e.setReactivityEngine({reactive:Xt,effect:function(e,t=ze){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return e();if(!ot.includes(n)){ft(n);try{return ht.push(lt),lt=!0,ot.push(n),Ve=n,e()}finally{ot.pop(),dt(),Ve=ot[ot.length-1]}}};return n.id=ut++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n},release:function(e){e.active&&(ft(e),e.options.onStop&&e.options.onStop(),e.active=!1)},raw:tn}),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var gn,mn=(function(e,t){e.exports=function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach(function(t){e(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t,n="algoliasearch-client-js-".concat(e.key),i=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(i().getItem(n)||"{}")};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var n=JSON.stringify(e),r=a()[n];return Promise.all([r||t(),void 0!==r])}).then(function(e){var t=r(e,2),i=t[0];return Promise.all([i,t[1]||n.miss(i)])}).then(function(e){return r(e,1)[0]})},set:function(e,t){return Promise.resolve().then(function(){var r=a();return r[JSON.stringify(e)]=t,i().setItem(n,JSON.stringify(r)),t})},delete:function(e){return Promise.resolve().then(function(){var t=a();delete t[JSON.stringify(e)],i().setItem(n,JSON.stringify(t))})},clear:function(){return Promise.resolve().then(function(){i().removeItem(n)})}}}function o(e){var t=i(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then(function(e){return Promise.all([e,n.miss(e)])}).then(function(e){return r(e,1)[0]})},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,r,i).catch(function(){return o({caches:t}).get(e,r,i)})},set:function(e,r){return n.set(e,r).catch(function(){return o({caches:t}).set(e,r)})},delete:function(e){return n.delete(e).catch(function(){return o({caches:t}).delete(e)})},clear:function(){return n.clear().catch(function(){return o({caches:t}).clear()})}}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(n);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var o=r(),c=i&&i.miss||function(){return Promise.resolve()};return o.then(function(e){return c(e)}).then(function(){return o})},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function s(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function u(e,t){return t?(Object.keys(t).forEach(function(n){e[n]=t[n](e)}),e):e}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,function(){return encodeURIComponent(n[i++])})}function l(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach(function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])}),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var h={Read:1,Write:2,Any:3};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n(n({},e),{},{status:t,lastUpdate:Date.now()})}function p(e){return"string"==typeof e?{protocol:"https",url:e,accept:h.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||h.Any}}var g="GET",m="POST";function v(e,t,r,a){var o=[],c=function(e,t){if(e.method!==g&&(void 0!==e.data||void 0!==t.data)){var r=Array.isArray(e.data)?e.data:n(n({},e.data),t.data);return JSON.stringify(r)}}(r,a),s=function(e,t){var r=n(n({},e.headers),t.headers),i={};return Object.keys(r).forEach(function(e){var t=r[e];i[e.toLowerCase()]=t}),i}(e,a),u=r.method,f=r.method!==g?{}:n(n({},r.data),a.data),l=n(n(n({"x-algolia-agent":e.userAgent.value},e.queryParameters),f),a.queryParameters),h=0,m=function t(n,i){var f=n.pop();if(void 0===f)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:w(o)};var p={data:c,headers:s,method:u,url:b(f,r.path,l),connectTimeout:i(h,e.timeouts.connect),responseTimeout:i(h,a.timeout)},g=function(e){var t={request:p,response:e,host:f,triesLeft:n.length};return o.push(t),t},m={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(r){var a=g(r);return r.isTimedOut&&h++,Promise.all([e.logger.info("Retryable failure",S(a)),e.hostsCache.set(f,d(f,r.isTimedOut?3:2))]).then(function(){return t(n,i)})},onFail:function(e){throw g(e),function(e,t){var n=e.content,r=e.status,i=n;try{i=JSON.parse(n).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(i,r,t)}(e,w(o))}};return e.requester.send(p).then(function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){return!e.isTimedOut&&0==~~e.status}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,m)})};return function(e,t){return Promise.all(t.map(function(t){return e.get(t,function(){return Promise.resolve(d(t))})})).then(function(e){var n=e.filter(function(e){return function(e){return 1===e.status||Date.now()-e.lastUpdate>12e4}(e)}),r=e.filter(function(e){return function(e){return 3===e.status&&Date.now()-e.lastUpdate<=12e4}(e)}),a=[].concat(i(n),i(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:a.length>0?a.map(function(e){return p(e)}):t}})}(e.hostsCache,t).then(function(e){return m(i(e.statelessHosts).reverse(),e.getTimeout)})}function y(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function b(e,t,n){var r=O(n),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(i+="?".concat(r)),i}function O(e){return Object.keys(e).map(function(t){return f("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n}).join("&")}function w(e){return e.map(function(e){return S(e)})}function S(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n(n({},e),{},{request:n(n({},e.request),{},{headers:n(n({},e.request.headers),t)})})}var j=function(e){return function(t,n){return t.method===g?e.transporter.read(t,n):e.transporter.write(t,n)}},P=function(e){return function(t){return u({transporter:e.transporter,appId:e.appId,indexName:t},(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).methods)}},R=function(e){return function(t,r){var i=t.map(function(e){return n(n({},e),{},{params:O(e.params||{})})});return e.transporter.read({method:m,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},_=function(e){return function(t,r){return Promise.all(t.map(function(t){var i=t.params,a=i.facetName,o=i.facetQuery,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,["facetName","facetQuery"]);return P(e)(t.indexName,{methods:{searchForFacetValues:F}}).searchForFacetValues(a,o,n(n({},r),c))}))}},x=function(e){return function(t,n,r){return e.transporter.read({method:m,path:f("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},r)}},E=function(e){return function(t,n){return e.transporter.read({method:m,path:f("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},F=function(e){return function(t,n,r){return e.transporter.read({method:m,path:f("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}};function I(e,t,i){var f={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise(function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach(function(t){return n.setRequestHeader(t,e.headers[t])});var r,i=function(e,r){return setTimeout(function(){n.abort(),t({status:0,content:r,isTimedOut:!0})},1e3*e)},a=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(a),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(a),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(a),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)})}},logger:{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}},responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:o({caches:[a({key:"".concat("4.12.1","-").concat(e)}),c()]}),userAgent:y("4.12.1").add({segment:"Browser",version:"lite"}),authMode:0};return function(e){var t=e.appId,i=function(e,t,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return 1===e?r:{}},queryParameters:function(){return 0===e?r:{}}}}(void 0!==e.authMode?e.authMode:1,t,e.apiKey),a=function(e){var t={hostsCache:e.hostsCache,logger:e.logger,requester:e.requester,requestsCache:e.requestsCache,responsesCache:e.responsesCache,timeouts:e.timeouts,userAgent:e.userAgent,headers:e.headers,queryParameters:e.queryParameters,hosts:e.hosts.map(function(e){return p(e)}),read:function(e,n){var i=l(n,t.timeouts.read),a=function(){return v(t,t.hosts.filter(function(e){return 0!=(e.accept&h.Read)}),e,i)};if(!0!==(void 0!==i.cacheable?i.cacheable:e.cacheable))return a();var o={request:e,mappedRequestOptions:i,transporter:{queryParameters:t.queryParameters,headers:t.headers}};return t.responsesCache.get(o,function(){return t.requestsCache.get(o,function(){return t.requestsCache.set(o,a()).then(function(e){return Promise.all([t.requestsCache.delete(o),e])},function(e){return Promise.all([t.requestsCache.delete(o),Promise.reject(e)])}).then(function(e){return r(e,2)[1]})})},{miss:function(e){return t.responsesCache.set(o,e)}})},write:function(e,n){return v(t,t.hosts.filter(function(e){return 0!=(e.accept&h.Write)}),e,l(n,t.timeouts.write))}};return t}(n(n({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:h.Read},{url:"".concat(t,".algolia.net"),accept:h.Write}].concat(s([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:n(n(n({},i.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:n(n({},i.queryParameters()),e.queryParameters)}));return u({transporter:a,appId:t,addAlgoliaAgent:function(e,t){a.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then(function(){})}},e.methods)}(n(n(n({},f),i),{},{methods:{search:R,searchForFacetValues:_,multipleQueries:R,multipleSearchForFacetValues:_,customRequest:j,initIndex:function(e){return function(t){return P(e)(t,{methods:{search:E,searchForFacetValues:F,findAnswers:x}})}}}}))}return I.version="4.12.1",I}()}(gn={exports:{}}),gn.exports);function vn(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function yn(e,t){if(e===t)return e;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"__proto__"!==n){var r=t[n],i=e[n];void 0!==i&&void 0===r||(e[n]=vn(i)&&vn(r)?yn(i,r):"object"==typeof(a=r)&&null!==a?yn(Array.isArray(a)?[]:{},a):a)}var a;return e}var bn=function(e){vn(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];vn(r)&&yn(e,r)}return e},On=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(e,t){return Object.keys(Object(t)).forEach(function(n){void 0!==t[n]&&(void 0!==e[n]&&delete e[n],e[n]=t[n])}),e},{})},wn=function(e,t){return e.filter(function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r})},Sn=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]},jn=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")},Pn=function(e,t){if(null===e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i},Rn=function(e){return e&&Object.keys(e).length>0},_n={addRefinement:function(e,t,n){if(_n.isRefined(e,t,n))return e;var r=""+n,i=e[t]?e[t].concat(r):[r],a={};return a[t]=i,On({},a,e)},removeRefinement:function(e,t,n){if(void 0===n)return _n.clearRefinement(e,function(e,n){return t===n});var r=""+n;return _n.clearRefinement(e,function(e,n){return t===n&&r===e})},toggleRefinement:function(e,t,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return _n.isRefined(e,t,n)?_n.removeRefinement(e,t,n):_n.addRefinement(e,t,n)},clearRefinement:function(e,t,n){if(void 0===t)return Rn(e)?{}:e;if("string"==typeof t)return Pn(e,[t]);if("function"==typeof t){var r=!1,i=Object.keys(e).reduce(function(i,a){var o=e[a]||[],c=o.filter(function(e){return!t(e,a,n)});return c.length!==o.length&&(r=!0),i[a]=c,i},{});return r?i:e}},isRefined:function(e,t,n){var r=!!e[t]&&e[t].length>0;return void 0!==n&&r?-1!==e[t].indexOf(""+n):r}},xn=_n;function En(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(e,n){return En(t[n],e)}):e===t}function Fn(e){var t,n=e?Fn._parseNumbers(e):{};void 0===n.userToken||null!==(t=n.userToken)&&/^[a-zA-Z0-9_-]{1,64}$/.test(t)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=n.facets||[],this.disjunctiveFacets=n.disjunctiveFacets||[],this.hierarchicalFacets=n.hierarchicalFacets||[],this.facetsRefinements=n.facetsRefinements||{},this.facetsExcludes=n.facetsExcludes||{},this.disjunctiveFacetsRefinements=n.disjunctiveFacetsRefinements||{},this.numericRefinements=n.numericRefinements||{},this.tagRefinements=n.tagRefinements||[],this.hierarchicalFacetsRefinements=n.hierarchicalFacetsRefinements||{};var r=this;Object.keys(n).forEach(function(e){-1===Fn.PARAMETERS.indexOf(e)&&void 0!==n[e]&&(r[e]=n[e])})}Fn.PARAMETERS=Object.keys(new Fn),Fn._parseNumbers=function(e){if(e instanceof Fn)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(n){var r=e[n];if("string"==typeof r){var i=parseFloat(r);t[n]=isNaN(i)?r:i}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(e){return Array.isArray(e)?e.map(function(e){return parseFloat(e)}):e})),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach(function(t){var r=e.numericRefinements[t]||{};n[t]={},Object.keys(r).forEach(function(e){var i=r[e].map(function(e){return Array.isArray(e)?e.map(function(e){return"string"==typeof e?parseFloat(e):e}):"string"==typeof e?parseFloat(e):e});n[t][e]=i})}),t.numericRefinements=n}return bn({},e,t)},Fn.make=function(e){var t=new Fn(e);return(e.hierarchicalFacets||[]).forEach(function(e){if(e.rootPath){var n=t.getHierarchicalRefinement(e.name);n.length>0&&0!==n[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(n=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),t},Fn.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&Rn(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):Rn(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},Fn.prototype={constructor:Fn,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:xn.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:xn.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:xn.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:xn.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var r=jn(n);if(this.isNumericRefined(e,t,r))return this;var i=bn({},this.numericRefinements);return i[e]=bn({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){return void 0!==n?this.isNumericRefined(e,t,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(r,i){return i===e&&r.op===t&&En(r.val,jn(n))})}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,r){return r===e&&n.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(t,n){return n===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return Rn(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return Pn(this.numericRefinements,[e]);if("function"==typeof e){var t=!1,n=this.numericRefinements,r=Object.keys(n).reduce(function(r,i){var a=n[i],o={};return a=a||{},Object.keys(a).forEach(function(n){var r=a[n]||[],c=[];r.forEach(function(t){e({val:t,op:n},i,"numeric")||c.push(t)}),c.length!==r.length&&(t=!0),o[n]=c}),r[i]=o,r},{});return t?r:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return xn.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:xn.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return xn.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:xn.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return xn.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:xn.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(t){return t!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(t){return t!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(t){return t.name!==e})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return xn.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:xn.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return xn.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:xn.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return xn.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:xn.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter(function(t){return t!==e})};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:xn.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:xn.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:xn.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={},i=void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n));return r[e]=i?-1===t.indexOf(n)?[]:[t.slice(0,t.lastIndexOf(n))]:[t],this.setQueryParameters({hierarchicalFacetsRefinements:On({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:On({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:On({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&xn.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&xn.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&xn.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return t?-1!==n.indexOf(t):n.length>0},isNumericRefined:function(e,t,n){if(void 0===n&&void 0===t)return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===n||!r)return r;var i,a=jn(n),o=void 0!==(i=a,Sn(this.numericRefinements[e][t],function(e){return En(e,i)}));return r&&o},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=wn(Object.keys(this.numericRefinements).filter(function(t){return Object.keys(e.numericRefinements[t]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(t){return e.disjunctiveFacetsRefinements[t].length>0}).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return wn(this.hierarchicalFacets.map(function(e){return e.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(t){return e.hierarchicalFacetsRefinements[t].length>0}))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return-1===e.indexOf(t)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},n=this;return Object.keys(this).forEach(function(r){var i=n[r];-1===e.indexOf(r)&&void 0!==i&&(t[r]=i)}),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=Fn.validate(this,e);if(t)throw t;var n=this,r=Fn._parseNumbers(e),i=Object.keys(this).reduce(function(e,t){return e[t]=n[t],e},{}),a=Object.keys(r).reduce(function(e,t){var n=void 0!==r[t];return void 0===e[t]||n?(n&&(e[t]=r[t]),e):Pn(e,[t])},i);return new this.constructor(a)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return Sn(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(n).map(function(e){return e.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var In=Fn;function An(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=void 0!==t,a=null===t;if(!a&&e>t||r&&i||!n)return 1;if(!r&&e<t||a&&n||!i)return-1}return 0}var Tn=function(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map(function(e,n){return{criteria:t.map(function(t){return e[t]}),index:n,value:e}});return r.sort(function(e,t){for(var r=-1;++r<e.criteria.length;){var i=An(e.criteria[r],t.criteria[r]);if(i)return r>=n.length?i:"desc"===n[r]?-i:i}return e.index-t.index}),r.map(function(e){return e.value})},Dn=function(e){return Array.isArray(e)?e.filter(Boolean):[]},Nn=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},kn=function(e,t){var n=(t||[]).map(function(e){return e.split(":")});return e.reduce(function(e,t){var r=t.split(":"),i=Sn(n,function(e){return e[0]===r[0]});return r.length>1||!i?(e[0].push(r[0]),e[1].push(r[1]),e):(e[0].push(i[0]),e[1].push(i[1]),e)},[[],[]])};function Cn(e){var t={};return e.forEach(function(e,n){t[e]=n}),t}function Ln(e,t,n){t&&t[n]&&(e.stats=t[n])}function Wn(e,t){var n=t[0];this._rawResults=t;var r=this;Object.keys(n).forEach(function(e){r[e]=n[e]}),this.processingTimeMS=t.reduce(function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var i=e.getRefinedDisjunctiveFacets(),a=Cn(e.facets),o=Cn(e.disjunctiveFacets),c=1,s=n.facets||{};Object.keys(s).forEach(function(t){var i,c=s[t],u=(i=t,Sn(e.hierarchicalFacets,function(e){return(e.attributes||[]).indexOf(i)>-1}));if(u){var f=u.attributes.indexOf(t),l=Nn(e.hierarchicalFacets,function(e){return e.name===u.name});r.hierarchicalFacets[l][f]={attribute:t,data:c,exhaustive:n.exhaustiveFacetsCount}}else{var h,d=-1!==e.disjunctiveFacets.indexOf(t),p=-1!==e.facets.indexOf(t);d&&(r.disjunctiveFacets[h=o[t]]={name:t,data:c,exhaustive:n.exhaustiveFacetsCount},Ln(r.disjunctiveFacets[h],n.facets_stats,t)),p&&(r.facets[h=a[t]]={name:t,data:c,exhaustive:n.exhaustiveFacetsCount},Ln(r.facets[h],n.facets_stats,t))}}),this.hierarchicalFacets=Dn(this.hierarchicalFacets),i.forEach(function(i){var a=t[c],s=a&&a.facets?a.facets:{},u=e.getHierarchicalFacetByName(i);Object.keys(s).forEach(function(t){var i,c=s[t];if(u){i=Nn(e.hierarchicalFacets,function(e){return e.name===u.name});var f=Nn(r.hierarchicalFacets[i],function(e){return e.attribute===t});if(-1===f)return;r.hierarchicalFacets[i][f].data=bn({},r.hierarchicalFacets[i][f].data,c)}else r.disjunctiveFacets[i=o[t]]={name:t,data:On({},c,n.facets&&n.facets[t]||{}),exhaustive:a.exhaustiveFacetsCount},Ln(r.disjunctiveFacets[i],a.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach(function(n){!r.disjunctiveFacets[i].data[n]&&e.disjunctiveFacetsRefinements[t].indexOf(n)>-1&&(r.disjunctiveFacets[i].data[n]=0)})}),c++}),e.getRefinedHierarchicalFacets().forEach(function(n){var i=e.getHierarchicalFacetByName(n),a=e._getHierarchicalFacetSeparator(i),o=e.getHierarchicalRefinement(n);if(!(0===o.length||o[0].split(a).length<2)){var s=t[c],u=s&&s.facets?s.facets:{};Object.keys(u).forEach(function(t){var n=u[t],c=Nn(e.hierarchicalFacets,function(e){return e.name===i.name}),s=Nn(r.hierarchicalFacets[c],function(e){return e.attribute===t});if(-1!==s){var f={};if(o.length>0){var l=o[0].split(a)[0];f[l]=r.hierarchicalFacets[c][s].data[l]}r.hierarchicalFacets[c][s].data=On(f,n,r.hierarchicalFacets[c][s].data)}}),c++}}),Object.keys(e.facetsExcludes).forEach(function(t){var i=e.facetsExcludes[t],o=a[t];r.facets[o]={name:t,data:n.facets[t],exhaustive:n.exhaustiveFacetsCount},i.forEach(function(e){r.facets[o]=r.facets[o]||{name:t},r.facets[o].data=r.facets[o].data||{},r.facets[o].data[e]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(function(e){return function(t,n){var r=e.hierarchicalFacets[n],i=e.hierarchicalFacetsRefinements[r.name]&&e.hierarchicalFacetsRefinements[r.name][0]||"",a=e._getHierarchicalFacetSeparator(r),o=e._getHierarchicalRootPath(r),c=e._getHierarchicalShowParentLevel(r),s=kn(e._getHierarchicalFacetSortBy(r)),u=t.every(function(e){return e.exhaustive}),f=function(e,t,n,r,i){return function(a,o,c){var s=a;if(c>0){var u=0;for(s=a;u<c;){var f=s&&Array.isArray(s.data)?s.data:[];s=Sn(f,function(e){return e.isRefined}),u++}}if(s){var l=Object.keys(o.data).map(function(e){return[e,o.data[e]]}).filter(function(e){return function(e,t,n,r,i,a){return(!i||0===e.indexOf(i)&&i!==e)&&(!i&&-1===e.indexOf(r)||i&&e.split(r).length-i.split(r).length==1||-1===e.indexOf(r)&&-1===n.indexOf(r)||0===n.indexOf(e)||0===e.indexOf(t+r)&&(a||0===e.indexOf(n)))}(e[0],s.path||n,i,t,n,r)});s.data=Tn(l.map(function(e){return function(e,t,n,r,i){var a=t.split(n);return{name:a[a.length-1].trim(),path:t,count:e,isRefined:r===t||0===r.indexOf(t+n),exhaustive:i,data:null}}(e[1],e[0],t,i,o.exhaustive)}),e[0],e[1])}return a}}(s,a,o,c,i),l=t;return o&&(l=t.slice(o.split(a).length)),l.reduce(f,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,exhaustive:u,data:null})}}(e)),this.facets=Dn(this.facets),this.disjunctiveFacets=Dn(this.disjunctiveFacets),this._state=e}function Hn(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||0===t.data.length)return t;var i=t.data.map(function(t){return Hn(e,t,n,r+1)}),a=e(i,n[r]);return On({data:a},t)}function Mn(e,t){var n=Sn(e,function(e){return e.name===t});return n&&n.stats}function Un(e,t,n,r,i){var a=Sn(i,function(e){return e.name===n});return{type:t,attributeName:n,name:r,count:a&&a.data&&a.data[r]?a.data[r]:0,exhaustive:a&&a.exhaustive||!1}}Wn.prototype.getFacetByName=function(e){function t(t){return t.name===e}return Sn(this.facets,t)||Sn(this.disjunctiveFacets,t)||Sn(this.hierarchicalFacets,t)},Wn.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],Wn.prototype.getFacetValues=function(e,t){var n=function(e,t){function n(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var r=Sn(e.facets,n);return r?Object.keys(r.data).map(function(n){return{name:n,count:r.data[n],isRefined:e._state.isFacetRefined(t,n),isExcluded:e._state.isExcludeRefined(t,n)}}):[]}if(e._state.isDisjunctiveFacet(t)){var i=Sn(e.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(n){return{name:n,count:i.data[n],isRefined:e._state.isDisjunctiveFacetRefined(t,n)}}):[]}if(e._state.isHierarchicalFacet(t))return Sn(e.hierarchicalFacets,n)}(this,e);if(n){var r=On({},t,{sortBy:Wn.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this;return Hn(function(e,t){if(r.facetOrdering){var n=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(i,t);if(Boolean(n))return function(e,t){var n=[],r=[],i=(t.order||[]).reduce(function(e,t,n){return e[t]=n,e},{});e.forEach(function(e){var t=e.path||e.name;void 0!==i[t]?n[i[t]]=e:r.push(e)}),n=n.filter(function(e){return e});var a,o=t.sortRemainingBy;return"hidden"===o?n:n.concat(Tn(r,(a="alpha"===o?[["path","name"],["asc","asc"]]:[["count"],["desc"]])[0],a[1]))}(e,n)}if(Array.isArray(r.sortBy)){var a=kn(r.sortBy,Wn.DEFAULT_SORT);return Tn(e,a[0],a[1])}if("function"==typeof r.sortBy)return function(e,t){return t.sort(e)}(r.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,Array.isArray(n)?[e]:i._state.getHierarchicalFacetByName(n.name).attributes)}},Wn.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?Mn(this.facets,e):this._state.isDisjunctiveFacet(e)?Mn(this.disjunctiveFacets,e):void 0},Wn.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach(function(r){e.facetsRefinements[r].forEach(function(e){n.push(Un(0,"facet",r,e,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(r){e.facetsExcludes[r].forEach(function(e){n.push(Un(0,"exclude",r,e,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(r){e.disjunctiveFacetsRefinements[r].forEach(function(e){n.push(Un(0,"disjunctive",r,e,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(r){e.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(function(e,t,n,r){var i=e.getHierarchicalFacetByName(t),a=e._getHierarchicalFacetSeparator(i),o=n.split(a),c=Sn(r,function(e){return e.name===t}),s=o.reduce(function(e,t){var n=e&&Sn(e.data,function(e){return e.name===t});return void 0!==n?n:e},c);return{type:"hierarchical",attributeName:t,name:s&&s.path||"",count:s&&s.count||0,exhaustive:s&&s.exhaustive||!1}}(e,r,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(t){var r=e.numericRefinements[t];Object.keys(r).forEach(function(e){r[e].forEach(function(r){n.push({type:"numeric",attributeName:t,name:r,numericValue:r,operator:e})})})}),e.tagRefinements.forEach(function(e){n.push({type:"tag",attributeName:"_tags",name:e})}),n};var Qn=Wn;function qn(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var $n=qn;function Bn(e){return"function"==typeof e}function Vn(e){return"object"==typeof e&&null!==e}function zn(e){return void 0===e}qn.prototype._events=void 0,qn.prototype._maxListeners=void 0,qn.defaultMaxListeners=10,qn.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},qn.prototype.emit=function(e){var t,n,r,i,a,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||Vn(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(zn(n=this._events[e]))return!1;if(Bn(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(Vn(n))for(i=Array.prototype.slice.call(arguments,1),r=(o=n.slice()).length,a=0;a<r;a++)o[a].apply(this,i);return!0},qn.prototype.on=qn.prototype.addListener=function(e,t){var n;if(!Bn(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Bn(t.listener)?t.listener:t),this._events[e]?Vn(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Vn(this._events[e])&&!this._events[e].warned&&(n=zn(this._maxListeners)?qn.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},qn.prototype.once=function(e,t){if(!Bn(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},qn.prototype.removeListener=function(e,t){var n,r,i,a;if(!Bn(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||Bn(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Vn(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},qn.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(Bn(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},qn.prototype.listeners=function(e){return this._events&&this._events[e]?Bn(this._events[e])?[this._events[e]]:this._events[e].slice():[]},qn.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Bn(t))return 1;if(t)return t.length}return 0},qn.listenerCount=function(e,t){return e.listenerCount(t)};var Jn=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};function Kn(e,t){this.main=e,this.fn=t,this.lastResults=null}Jn(Kn,$n),Kn.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},Kn.prototype.getModifiedState=function(e){return this.fn(e)};var Yn=Kn,Zn={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:Zn._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach(function(r){n.push({indexName:e,params:Zn._getDisjunctiveFacetSearchParams(t,r)})}),t.getRefinedHierarchicalFacets().forEach(function(r){var i=t.getHierarchicalFacetByName(r),a=t.getHierarchicalRefinement(r),o=t._getHierarchicalFacetSeparator(i);a.length>0&&a[0].split(o).length>1&&n.push({indexName:e,params:Zn._getDisjunctiveFacetSearchParams(t,r,!0)})}),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(Zn._getHitsHierarchicalFacetsAttributes(e)),n=Zn._getFacetFilters(e),r=Zn._getNumericFilters(e),i=Zn._getTagFilters(e),a={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:i};return n.length>0&&(a.facetFilters=n),r.length>0&&(a.numericFilters=r),bn({},e.getQueryParams(),a)},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=Zn._getFacetFilters(e,t,n),i=Zn._getNumericFilters(e,t),a={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:Zn._getTagFilters(e),analytics:!1,clickAnalytics:!1},o=e.getHierarchicalFacetByName(t);return a.facets=o?Zn._getDisjunctiveHierarchicalFacetAttribute(e,o,n):t,i.length>0&&(a.numericFilters=i),r.length>0&&(a.facetFilters=r),bn({},e.getQueryParams(),a)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach(function(e){t!==r&&(i[e]||[]).forEach(function(t){if(Array.isArray(t)){var i=t.map(function(t){return r+e+t});n.push(i)}else n.push(r+e+t)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).forEach(function(e){(i[e]||[]).forEach(function(t){r.push(e+":"+t)})});var a=e.facetsExcludes||{};Object.keys(a).forEach(function(e){(a[e]||[]).forEach(function(t){r.push(e+":-"+t)})});var o=e.disjunctiveFacetsRefinements||{};Object.keys(o).forEach(function(e){var n=o[e]||[];if(e!==t&&n&&0!==n.length){var i=[];n.forEach(function(t){i.push(e+":"+t)}),r.push(i)}});var c=e.hierarchicalFacetsRefinements||{};return Object.keys(c).forEach(function(i){var a=(c[i]||[])[0];if(void 0!==a){var o,s,u=e.getHierarchicalFacetByName(i),f=e._getHierarchicalFacetSeparator(u),l=e._getHierarchicalRootPath(u);if(t===i){if(-1===a.indexOf(f)||!l&&!0===n||l&&l.split(f).length===a.split(f).length)return;l?(s=l.split(f).length-1,a=l):(s=a.split(f).length-2,a=a.slice(0,a.lastIndexOf(f))),o=u.attributes[s]}else s=a.split(f).length-1,o=u.attributes[s];o&&r.push([o+":"+a])}}),r},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce(function(t,n){var r=e.getHierarchicalRefinement(n.name)[0];if(!r)return t.push(n.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(n),a=r.split(i).length,o=n.attributes.slice(0,a+1);return t.concat(o)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(r).length),[t.attributes[a]]}var o=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,a={facetQuery:t,facetName:e};return"number"==typeof n&&(a.maxFacetHits=n),bn({},Zn._getHitsSearchParams(i),a)}},Xn=Zn;function Gn(e,t,n){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.7.0)"),this.setClient(e);var r=n||{};r.index=t,this.state=In.make(r),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function er(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function tr(){return this.state.page}Jn(Gn,$n),Gn.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},Gn.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},Gn.prototype.getQuery=function(){return Xn._getHitsSearchParams(this.state)},Gn.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=Xn._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!t)return this.client.search(r).then(function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new Qn(n,e.results),state:n,_originalResponse:e}},function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e});this.client.search(r).then(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new Qn(n,e.results),n)}).catch(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,n)})},Gn.prototype.findAnswers=function(e){var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=bn({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:Pn(Xn._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(a);var o=this.client.initIndex(r.index);if("function"!=typeof o.findAnswers)throw new Error(a);return o.findAnswers(r.query,e.queryLanguages,i)},Gn.prototype.searchForFacetValues=function(e,t,n,r){var i="function"==typeof this.client.searchForFacetValues;if(!i&&"function"!=typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),o=a.isDisjunctiveFacet(e),c=Xn.getSearchForFacetQuery(e,t,n,a);this._currentNbQueries++;var s=this;return this.emit("searchForFacetValues",{state:a,facet:e,query:t}),(i?this.client.searchForFacetValues([{indexName:a.index,params:c}]):this.client.initIndex(a.index).searchForFacetValues(c)).then(function(t){return s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach(function(t){t.isRefined=o?a.isDisjunctiveFacetRefined(e,t.value):a.isFacetRefined(e,t.value)}),t},function(e){throw s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),e})},Gn.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},Gn.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},Gn.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},Gn.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},Gn.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},Gn.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},Gn.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},Gn.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},Gn.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},Gn.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},Gn.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},Gn.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},Gn.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},Gn.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},Gn.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},Gn.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},Gn.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},Gn.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},Gn.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},Gn.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},Gn.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},Gn.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},Gn.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},Gn.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},Gn.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},Gn.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},Gn.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},Gn.prototype.nextPage=function(){return this.setPage((this.state.page||0)+1)},Gn.prototype.previousPage=function(){return this.setPage((this.state.page||0)-1)},Gn.prototype.setCurrentPage=er,Gn.prototype.setPage=er,Gn.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},Gn.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},Gn.prototype.setState=function(e){return this._change({state:In.make(e),isPageReset:!1}),this},Gn.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new In(e),this},Gn.prototype.hasRefinements=function(e){return!!Rn(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},Gn.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},Gn.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},Gn.prototype.hasTag=function(e){return this.state.isTagRefined(e)},Gn.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},Gn.prototype.getIndex=function(){return this.state.index},Gn.prototype.getCurrentPage=tr,Gn.prototype.getPage=tr,Gn.prototype.getTags=function(){return this.state.tagRefinements},Gn.prototype.getRefinements=function(e){var t=[];this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"conjunctive"})}),this.state.getExcludeRefinements(e).forEach(function(e){t.push({value:e,type:"exclude"})})):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"disjunctive"})});var n=this.state.getNumericRefinements(e);return Object.keys(n).forEach(function(e){t.push({value:n[e],operator:e,type:"numeric"})}),t},Gn.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},Gn.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},Gn.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=Xn._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(e){var r=e.getModifiedState(t),i=Xn._getQueries(r.index,r);return n.push({state:r,queriesCount:i.length,helper:e}),e.emit("search",{state:r,results:e.lastResults}),i}),a=Array.prototype.concat.apply(r,i),o=this._queryId++;this._currentNbQueries++;try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,n,o)).catch(this._dispatchAlgoliaError.bind(this,o))}catch(e){this.emit("error",{error:e})}},Gn.prototype._dispatchAlgoliaResponse=function(e,t,n){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var r=n.results.slice();e.forEach(function(e){var t=e.state,n=e.helper,i=r.splice(0,e.queriesCount),a=n.lastResults=new Qn(t,i);n.emit("result",{results:a,state:t})})}},Gn.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},Gn.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},Gn.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},Gn.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},Gn.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},Gn.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.7.0)"),this.client=e),this},Gn.prototype.getClient=function(){return this.client},Gn.prototype.derive=function(e){var t=new Yn(this,e);return this.derivedHelpers.push(t),t},Gn.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},Gn.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var nr=Gn;function rr(e,t,n){return new nr(e,t,n)}rr.version="3.7.0",rr.AlgoliaSearchHelper=nr,rr.SearchParameters=In,rr.SearchResults=Qn;var ir=rr;function ar(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}var or=Promise.resolve(),cr=function(e){var t=null,n=!1,r=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];null===t&&(t=or.then(function(){t=null,n?n=!1:e.apply(void 0,i)}))};return r.wait=function(){if(null===t)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){null!==t&&(n=!0)},r};function sr(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}function ur(e,t){for(var n,r=0;r<e.length;r++)if(t(n=e[r],r,e))return n}function fr(e){return String(e).replace(/^\\-/,"-")}function lr(e,t,n,r){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o={type:t,attribute:n,name:r},c=ur(a,function(e){return e.name===n});"hierarchical"===t?function(){for(var t=e.getHierarchicalFacetByName(n),a=r.split(t.separator),o=function(e){var t;c=c&&c.data&&ur(Object.keys(c.data).map((t=c.data,function(e){return t[e]})),function(t){return t.name===a[e]})},s=0;void 0!==c&&s<a.length;++s)o(s);i=c&&c.count}():i=c&&c.data&&c.data[o.name];var s=c&&c.exhaustive;return void 0!==i&&(o.count=i),void 0!==s&&(o.exhaustive=s),o}function hr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],i=t.facetsRefinements,a=void 0===i?{}:i,o=t.facetsExcludes,c=void 0===o?{}:o,s=t.disjunctiveFacetsRefinements,u=void 0===s?{}:s,f=t.hierarchicalFacetsRefinements,l=void 0===f?{}:f,h=t.numericRefinements,d=void 0===h?{}:h,p=t.tagRefinements,g=void 0===p?[]:p;return Object.keys(a).forEach(function(n){a[n].forEach(function(i){r.push(lr(t,"facet",n,i,e.facets))})}),Object.keys(c).forEach(function(e){c[e].forEach(function(t){r.push({type:"exclude",attribute:e,name:t,exclude:!0})})}),Object.keys(u).forEach(function(n){u[n].forEach(function(i){r.push(lr(t,"disjunctive",n,fr(i),e.disjunctiveFacets))})}),Object.keys(l).forEach(function(n){l[n].forEach(function(i){r.push(lr(t,"hierarchical",n,i,e.hierarchicalFacets))})}),Object.keys(d).forEach(function(e){var t=d[e];Object.keys(t).forEach(function(n){var i=n,a=t[i];(Array.isArray(a)?a:[a]).forEach(function(t){r.push({type:"numeric",attribute:e,name:"".concat(t),numericValue:t,operator:i})})})}),g.forEach(function(e){r.push({type:"tag",attribute:"_tags",name:e})}),n&&t.query&&t.query.trim()&&r.push({attribute:"query",type:"query",name:t.query,query:t.query}),r}function dr(e){var t=e.attributesToClear,n=void 0===t?[]:t,r=e.helper.state.setPage(0);return r=n.reduce(function(e,t){return r.isNumericRefined(t)?e.removeNumericRefinement(t):r.isHierarchicalFacet(t)?e.removeHierarchicalFacetRefinement(t):r.isDisjunctiveFacet(t)?e.removeDisjunctiveFacetRefinement(t):r.isConjunctiveFacet(t)?e.removeFacetRefinement(t):e},r),-1!==n.indexOf("query")&&(r=r.setQuery("")),r}function pr(e){return"number"==typeof e&&e<0&&(e=String(e).replace(/^-/,"\\-")),e}function gr(e){return Object.prototype.toString.call(e).slice(8,-1)}function mr(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat(gr(e),").\n\n").concat(t))}function vr(){}var yr=function(e,t){return e},br=vr,Or=vr;"development"==="production".NODE_ENV&&(br=function(e){console.warn("[InstantSearch.js]: ".concat(e.trim()))},yr=function(e,t){var n=!1;return function(){return n||(n=!0,br(t)),e.apply(void 0,arguments)}},(Or=function(e,t){e||Or.cache[t]||(Or.cache[t]=!0,br(t))}).cache={});var wr=Object.keys;function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}}(e,t)||jr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){if(e){if("string"==typeof e)return Pr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pr(e,t):void 0}}function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rr={query:{connectors:["connectSearchBox"],widgets:["ais.searchBox","ais.autocomplete","ais.voiceSearch"]},refinementList:{connectors:["connectRefinementList"],widgets:["ais.refinementList"]},menu:{connectors:["connectMenu"],widgets:["ais.menu"]},hierarchicalMenu:{connectors:["connectHierarchicalMenu"],widgets:["ais.hierarchicalMenu"]},numericMenu:{connectors:["connectNumericMenu"],widgets:["ais.numericMenu"]},ratingMenu:{connectors:["connectRatingMenu"],widgets:["ais.ratingMenu"]},range:{connectors:["connectRange"],widgets:["ais.rangeInput","ais.rangeSlider","ais.range"]},toggle:{connectors:["connectToggleRefinement"],widgets:["ais.toggleRefinement"]},geoSearch:{connectors:["connectGeoSearch"],widgets:["ais.geoSearch"]},sortBy:{connectors:["connectSortBy"],widgets:["ais.sortBy"]},page:{connectors:["connectPagination"],widgets:["ais.pagination","ais.infiniteHits"]},hitsPerPage:{connectors:["connectHitsPerPage"],widgets:["ais.hitsPerPage"]},configure:{connectors:["connectConfigure"],widgets:["ais.configure"]},places:{connectors:[],widgets:["ais.places"]}};function _r(e){var t=e.index,n=e.indexUiState,r=t.getWidgets().map(function(e){return e.$$type}).filter(Boolean),i=wr(n).reduce(function(e,t){var n=Rr[t];if(!n)return e;var i=n.widgets;return i&&!i.some(function(e){return r.includes(e)})&&e.push([t,{connectors:n.connectors,widgets:n.widgets.map(function(e){return e.split("ais.")[1]})}]),e},[]);"development"==="production".NODE_ENV&&Or(0===i.length,'The UI state for the index "'.concat(t.getIndexId(),'" is not consistent with the widgets mounted.\n\nThis can happen when the UI state is specified via `initialUiState`, `routing` or `setUiState` but that the widgets responsible for this state were not added. This results in those query parameters not being sent to the API.\n\nTo fully reflect the state, some widgets need to be added to the index "').concat(t.getIndexId(),'":\n\n').concat(i.map(function(e){var t,n,r=Sr(e,2),i=r[1].widgets;return"- `".concat(r[0],"` needs one of these widgets: ").concat((t=[]).concat.apply(t,(n=i.map(function(e){return function(e){switch(e){case"range":return[];case"menu":return["menu","menuSelect"];default:return[e]}}(e)}),function(e){if(Array.isArray(e))return Pr(e)}(n)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||jr(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).map(function(e){return'"'.concat(e,'"')}).join(", "))}).join("\n"),'\n\nIf you do not wish to display widgets but still want to support their search parameters, you can mount "virtual widgets" that don\'t render anything:\n\n```\n').concat(i.filter(function(e){return Sr(e,2)[1].connectors.length>0}).map(function(e){var t=Sr(e,2)[1],n=t.connectors,r=ar(t.widgets[0]),i=n[0];return"const virtual".concat(r," = ").concat(i,"(() => null);")}).join("\n"),"\n\nsearch.addWidgets([\n  ").concat(i.filter(function(e){return Sr(e,2)[1].connectors.length>0}).map(function(e){var t=ar(Sr(e,2)[1].widgets[0]);return"virtual".concat(t,"({ /* ... */ })")}).join(",\n  "),"\n]);\n```\n\nIf you're using custom widgets that do set these query parameters, we recommend using connectors instead.\n\nSee https://www.algolia.com/doc/guides/building-search-ui/widgets/customize-an-existing-widget/js/#customize-the-complete-ui-of-the-widgets"))}function xr(e,t){return(Array.isArray(t)?t:t.split(".")).reduce(function(e,t){return e&&e[t]},e)}function Er(e){return"number"==typeof e&&isFinite(e)}function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e){if(!function(e){return"object"===Fr(e)&&null!==e}(e)||"[object Object]"!==function(e){return null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tr(e){var t,n=e.start,r=void 0===n?0:n,i=e.step,a=void 0===i?1:i,o=0===a?1:a,c=Math.round((e.end-r)/o);return(t=Array(c),function(e){if(Array.isArray(e))return Ar(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ar(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e,t){return r+t*o})}function Dr(e){return e!==Object(e)}function Nr(e,t){if(e===t)return!0;if(Dr(e)||Dr(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t))return!1;if(!Nr(e[i],t[i]))return!1}return!0}var kr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cr=/[&<>"']/g,Lr=RegExp(Cr.source),Wr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Hr=/&(amp|quot|lt|gt|#39);/g,Mr=RegExp(Hr.source);function Ur(){return(Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(n),!0).forEach(function(t){$r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Br={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},Vr="<mark>",zr="</mark>";function Jr(e){return function(e){return e&&Lr.test(e)?e.replace(Cr,function(e){return kr[e]}):e}(e).replace(new RegExp(Br.highlightPreTag,"g"),Vr).replace(new RegExp(Br.highlightPostTag,"g"),zr)}function Kr(e){return Ir(e)&&"string"!=typeof e.value?Object.keys(e).reduce(function(t,n){return qr(qr({},t),{},$r({},n,Kr(e[n])))},{}):Array.isArray(e)?e.map(Kr):qr(qr({},e),{},{value:Jr(e.value)})}function Yr(e){return void 0===e.__escaped&&((e=e.map(function(e){var t=Ur({},e);return t._highlightResult&&(t._highlightResult=Kr(t._highlightResult)),t._snippetResult&&(t._snippetResult=Kr(t._snippetResult)),t})).__escaped=!0),e}function Zr(e){return e.map(function(e){return qr(qr({},e),{},{highlighted:Jr(e.highlighted)})})}function Xr(e){return e.map(function(e){return e.isHighlighted?"<mark>"+e.value+"</mark>":e.value}).join("")}function Gr(e){var t=e.split(Vr),n=t.shift(),r=n?[{value:n,isHighlighted:!1}]:[];return t.forEach(function(e){var t=e.split("</mark>");r.push({value:t[0],isHighlighted:!0}),""!==t[1]&&r.push({value:t[1],isHighlighted:!1})}),r}var ei=new RegExp(/\w/i);function ti(e,t){var n,r,i,a=e[t],o=(null===(n=e[t+1])||void 0===n?void 0:n.isHighlighted)||!0,c=(null===(r=e[t-1])||void 0===r?void 0:r.isHighlighted)||!0;return ei.test((i=a.value)&&Mr.test(i)?i.replace(Hr,function(e){return Wr[e]}):i)||c!==o?a.isHighlighted:c}function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach(function(t){ii(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ai(e){return e.some(function(e){return e.isHighlighted})?e.map(function(t,n){return ri(ri({},t),{},{isHighlighted:!ti(e,n)})}):e.map(function(e){return ri(ri({},e),{},{isHighlighted:!1})})}function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(n),!0).forEach(function(t){si(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ui=function(e,t){var n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"]);return e.setQueryParameters(n)},fi=function(e,t){return t.facets.reduce(function(e,t){return e.addFacet(t)},e)},li=function(e,t){return t.disjunctiveFacets.reduce(function(e,t){return e.addDisjunctiveFacet(t)},e)},hi=function(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce(function(e,t){var n=function(e,n){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(e[r].name===t.name)return r;return-1}(e);if(-1===n)return e.concat(t);var r=e.slice();return r.splice(n,1,t),r},e.hierarchicalFacets)})},di=function(e,t){return t.tagRefinements.reduce(function(e,t){return e.addTagRefinement(t)},e)},pi=function(e,t){return e.setQueryParameters({facetsRefinements:ci(ci({},e.facetsRefinements),t.facetsRefinements)})},gi=function(e,t){return e.setQueryParameters({facetsExcludes:ci(ci({},e.facetsExcludes),t.facetsExcludes)})},mi=function(e,t){return e.setQueryParameters({disjunctiveFacetsRefinements:ci(ci({},e.disjunctiveFacetsRefinements),t.disjunctiveFacetsRefinements)})},vi=function(e,t){return e.setQueryParameters({numericRefinements:ci(ci({},e.numericRefinements),t.numericRefinements)})},yi=function(e,t){return e.setQueryParameters({hierarchicalFacetsRefinements:ci(ci({},e.hierarchicalFacetsRefinements),t.hierarchicalFacetsRefinements)})},bi=function(e,t){var n=sr([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return n.length>0?e.setQueryParameters({ruleContexts:n}):e},Oi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){var n=yi(e,t),r=hi(n,t),i=di(r,t),a=vi(i,t),o=mi(a,t),c=gi(o,t),s=pi(c,t),u=li(s,t),f=bi(u,t),l=fi(f,t);return ui(l,t)})};function wi(e){return Array.isArray(e)?e:[e]}var Si=function(e){var t=e.connector;return["https://www.algolia.com/doc/api-reference/widgets/",e.name,"/js/",void 0!==t&&t?"#connector":""].join("")},ji=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return Si(e)}).join(", ");return function(e){return[e,"See documentation: ".concat(r)].filter(Boolean).join("\n\n")}};function Pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ri(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _i=/^(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)$/;function xi(e){var t=e.match(_i);if(!t)throw new Error('Invalid value for "aroundLatLng" parameter: "'.concat(e,'"'));return{lat:parseFloat(t[1]),lng:parseFloat(t[2])}}function Ei(e){return Array.isArray(e)?function(e){var t=Pi(e,1)[0],n=Pi(t=void 0===t?[void 0,void 0,void 0,void 0]:t,4),r=n[0],i=n[1],a=n[2],o=n[3];if(!(r&&i&&a&&o))throw new Error('Invalid value for "insideBoundingBox" parameter: ['.concat(e,"]"));return{northEast:{lat:r,lng:i},southWest:{lat:a,lng:o}}}(e):function(e){var t=Pi(e.split(",").map(parseFloat),4),n=t[0],r=t[1],i=t[2],a=t[3];if(!(n&&r&&i&&a))throw new Error('Invalid value for "insideBoundingBox" parameter: "'.concat(e,'"'));return{northEast:{lat:n,lng:r},southWest:{lat:i,lng:a}}}(e)}function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(n),!0).forEach(function(t){Ai(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ti(e,t,n){return e.map(function(e,r){return Ii(Ii({},e),{},{__position:n*t+r+1})})}function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach(function(t){ki(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ci(e,t){return t?e.map(function(e){return Ni(Ni({},e),{},{__queryID:t})}):e}function Li(e,t,n){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,n):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,n):e.state.isDisjunctiveFacetRefined(t,n)}function Wi(e){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hi(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.widgetType;return function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var c=a[0],s=a[1],u=a[2],f=void 0===u?"Filter Applied":u;if(1===a.length&&"object"===Wi(a[0]))t.sendEventToInsights(a[0]);else if("click"!==c||2!==a.length&&3!==a.length){if("development"==="production".NODE_ENV)throw new Error("You need to pass two arguments like:\n  sendEvent('click', facetValue);\n\nIf you want to send a custom payload, you can pass one object: sendEvent(customPayload);\n")}else Li(n,r,s)||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:c,payload:{eventName:f,index:n.getIndex(),filters:["".concat(r,":").concat(s)]},attribute:r})}}function Mi(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function Ui(e){return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Qi=function(e){var t=e.index,n=e.widgetType,r=e.methodName,i=e.args;if(1===i.length&&"object"===Ui(i[0]))return[i[0]];var a=i[0],o=i[1],c=i[2];if(!o){if("development"==="production".NODE_ENV)throw new Error("You need to pass hit or hits as the second argument like:\n  ".concat(r,"(eventType, hit);\n  "));return[]}if(("click"===a||"conversion"===a)&&!c){if("development"==="production".NODE_ENV)throw new Error("You need to pass eventName as the third argument for 'click' or 'conversion' events like:\n  ".concat(r,"('click', hit, 'Product Purchased');\n\n  To learn more about event naming: https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/in-depth/clicks-conversions-best-practices/\n  "));return[]}var s=Array.isArray(o)?function(e){return e.slice()}(o):[o];if(0===s.length)return[];var u=s[0].__queryID,f=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}(s),l=f.map(function(e){return e.map(function(e){return e.objectID})}),h=f.map(function(e){return e.map(function(e){return e.__position})});if("view"===a)return f.map(function(e,r){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:a,payload:{eventName:c||"Hits Viewed",index:t,objectIDs:l[r]},hits:e}});if("click"===a)return f.map(function(e,r){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:{eventName:c,index:t,queryID:u,objectIDs:l[r],positions:h[r]},hits:e}});if("conversion"===a)return f.map(function(e,r){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:{eventName:c,index:t,queryID:u,objectIDs:l[r]},hits:e}});if("development"==="production".NODE_ENV)throw new Error('eventType("'.concat(a,'") is not supported.\n    If you want to send a custom payload, you can pass one object: ').concat(r,"(customPayload);\n    "));return[]};function qi(e){var t=e.instantSearchInstance,n=e.index,r=e.widgetType;return function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var o=Qi({widgetType:r,index:n,methodName:"sendEvent",args:i});o.forEach(function(e){return t.sendEventToInsights(e)})}}function $i(e){var t=e.index,n=e.widgetType;return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=Qi({widgetType:n,index:t,methodName:"bindEvent",args:r});return a.length?"data-insights-event=".concat(Mi(a)):""}}function Bi(e,t){if(!e)return null;var n=e.numericRefinements[t],r=[];return Object.keys(n).filter(function(e){return Array.isArray(n[e])&&n[e].length>0}).forEach(function(e){n[e].forEach(function(n){r.push("".concat(t).concat(e).concat(n))})}),r}function Vi(){var e=-1,t=-1,n=void 0;return function(r){var i=++e;return Promise.resolve(r).then(function(e){return n&&i<t?n:(t=i,n=e,e)})}}function zi(e,t){var n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return new Promise(function(r,a){n&&clearTimeout(n),n=setTimeout(function(){n=null,Promise.resolve(e.apply(void 0,i)).then(r).catch(a)},t)})}}function Ji(e,t){var n,r=null===(n=e.getWidgetRenderState)||void 0===n?void 0:n.call(e,t),i=null;if(r&&r.widgetParams){var a=r.widgetParams;a.attribute?i=a.attribute:Array.isArray(a.attributes)&&(i=a.attributes[0])}if("string"!=typeof i)throw new Error("Could not find the attribute of the widget:\n\n".concat(JSON.stringify(e),"\n\nPlease check whether the widget's getWidgetRenderState returns widgetParams.attribute correctly."));return i}function Ki(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fallback:function(){}},n=t.fallback;return"undefined"==typeof window?n():e({window:window})}function Yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(n),!0).forEach(function(t){Xi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gi(e){return function(e){if(Array.isArray(e))return ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ea(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ta=ji({name:"index-widget"});function na(e){return"ais.index"===e.$$type}function ra(e,t){var n=t.state,r=t.isPageReset,i=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:r,_uiState:i}))}function ia(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(function(e,n){return na(n)?e:n.getWidgetUiState||n.getWidgetState?n.getWidgetUiState?n.getWidgetUiState(e,t):n.getWidgetState(e,t):e},n)}function aa(e,t){var n=t.initialSearchParameters,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["initialSearchParameters"]);return e.filter(function(e){return!na(e)}).reduce(function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,r):e},n)}function oa(e){var t=e.filter(na);0!==t.length&&t.forEach(function(e){var t=e.getHelper();ra(t,{state:t.state.resetPage(),isPageReset:!0}),oa(e.getWidgets())})}function ca(e){return e.filter(na).reduce(function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(Gi(ca(t.getWidgets()))))},[])}var sa=function(e){if(void 0===e||void 0===e.indexName)throw new Error(ta("The `indexName` option is required."));var t=e.indexName,n=e.indexId,r=void 0===n?t:n,i=[],a={},o=null,c=null,s=null,u=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return t},getIndexId:function(){return r},getHelper:function(){return s},getResults:function(){return u&&u.lastResults},getScopedResults:function(){var e=this.getParent();return ca(e?e.getWidgets():[this])},getParent:function(){return c},createURL:function(e){return o._createURL(Xi({},r,ia(i,{searchParameters:e,helper:s})))},getWidgets:function(){return i},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(ta("The `addWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(ta("The widget definition expects a `render` and/or an `init` method."));return i=i.concat(e),o&&Boolean(e.length)&&(ra(s,{state:aa(i,{uiState:a,initialSearchParameters:s.state}),_uiState:a}),e.forEach(function(e){e.getRenderState&&ua({renderState:e.getRenderState(o.renderState[t.getIndexId()]||{},{uiState:o._initialUiState,helper:t.getHelper(),parent:t,instantSearchInstance:o,state:s.state,renderState:o.renderState,templatesConfig:o.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:o._isSearchStalled}}),instantSearchInstance:o,parent:t})}),e.forEach(function(e){e.init&&e.init({helper:s,parent:t,uiState:o._initialUiState,instantSearchInstance:o,state:s.state,renderState:o.renderState,templatesConfig:o.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:o._isSearchStalled}})}),o.scheduleSearch()),this},removeWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(ta("The `removeWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(ta("The widget definition expects a `dispose` method."));if(i=i.filter(function(t){return-1===e.indexOf(t)}),o&&Boolean(e.length)){var n=e.reduce(function(e,n){return n.dispose({helper:s,state:e,parent:t})||e},s.state);a=ia(i,{searchParameters:n,helper:s}),s.setState(aa(i,{uiState:a,initialSearchParameters:n})),i.length&&o.scheduleSearch()}return this},init:function(e){var n,f=this,l=e.instantSearchInstance,h=e.uiState;if(null===s){o=l,c=e.parent;var d=l.mainHelper,p=aa(i,{uiState:a=h[r]||{},initialSearchParameters:new ir.SearchParameters({index:t})});(s=ir({},p.index,p)).search=function(){return l.onStateChange?(l.onStateChange({uiState:l.mainIndex.getWidgetUiState({}),setUiState:l.setUiState.bind(l)}),d):d.search()},s.searchWithoutTriggeringOnStateChange=function(){return d.search()},s.searchForFacetValues=function(e,t,n,r){var i=s.state.setQueryParameters(r);return d.searchForFacetValues(e,t,n,i)},u=d.derive(function(){return Oi.apply(void 0,Gi(function(e){for(var t=e.getParent(),n=[e.getHelper().state];null!==t;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}(f)))});var g=null===(n=l._initialResults)||void 0===n?void 0:n[this.getIndexId()];if(g){var m=new ir.SearchResults(new ir.SearchParameters(g.state),g.results);u.lastResults=m,s.lastResults=m}s.on("change",function(e){e.isPageReset&&oa(i)}),u.on("search",function(){l.scheduleStalledRender(),"development"==="production".NODE_ENV&&_r({index:f,indexUiState:a})}),u.on("result",function(e){var t=e.results;l.scheduleRender(),s.lastResults=t}),i.forEach(function(e){e.getRenderState&&ua({renderState:e.getRenderState(l.renderState[f.getIndexId()]||{},{uiState:h,helper:s,parent:f,instantSearchInstance:l,state:s.state,renderState:l.renderState,templatesConfig:l.templatesConfig,createURL:f.createURL,scopedResults:[],searchMetadata:{isSearchStalled:l._isSearchStalled}}),instantSearchInstance:l,parent:f})}),i.forEach(function(e){"development"==="production".NODE_ENV&&Or(!e.getWidgetState||Boolean(e.getWidgetUiState),"The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead."),e.init&&e.init({uiState:h,helper:s,parent:f,instantSearchInstance:l,state:s.state,renderState:l.renderState,templatesConfig:l.templatesConfig,createURL:f.createURL,scopedResults:[],searchMetadata:{isSearchStalled:l._isSearchStalled}})}),s.on("change",function(e){a=ia(i,{searchParameters:e.state,helper:s},e._uiState||{}),l.onStateChange||l.onInternalStateChange()}),g&&l.scheduleRender()}},render:function(e){var t=this,n=e.instantSearchInstance;this.getResults()&&(i.forEach(function(e){e.getRenderState&&ua({renderState:e.getRenderState(n.renderState[t.getIndexId()]||{},{helper:t.getHelper(),parent:t,instantSearchInstance:n,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:n.renderState,templatesConfig:n.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:n._isSearchStalled}}),instantSearchInstance:n,parent:t})}),i.forEach(function(e){e.render&&e.render({helper:s,parent:t,instantSearchInstance:n,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:n.renderState,templatesConfig:n.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:n._isSearchStalled}})}))},dispose:function(){var e=this;i.forEach(function(t){t.dispose&&t.dispose({helper:s,state:s.state,parent:e})}),o=null,c=null,s.removeAllListeners(),s=null,u.detach(),u=null},getWidgetUiState:function(e){return i.filter(na).reduce(function(e,t){return t.getWidgetUiState(e)},Zi(Zi({},e),{},Xi({},this.getIndexId(),a)))},getWidgetState:function(e){return"development"==="production".NODE_ENV&&Or(!1,"The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead."),this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){return aa(i,{uiState:t.uiState,initialSearchParameters:e})},refreshUiState:function(){a=ia(i,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)}}};function ua(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=Zi(Zi({},n.renderState),{},Xi({},i,Zi(Zi({},n.renderState[i]),t)))}var fa="4.39.0",la=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.descendantName,r=t.modifierName,i=n?"-".concat(n):"",a=r?"--".concat(r):"";return"".concat("ais","-").concat(e).concat(i).concat(a)}},ha=la("Highlight");function da(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.cssClasses,a=void 0===i?{}:i,o=xr(e.hit._highlightResult,t);"development"==="production".NODE_ENV&&Or(o,'Could not enable highlight for "'.concat(t,'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var c=(o||{}).value,s=void 0===c?"":c,u=ha({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return s.replace(new RegExp(Vr,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(zr,"g"),"</".concat(r,">"))}var pa=la("ReverseHighlight");function ga(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.cssClasses,a=void 0===i?{}:i,o=xr(e.hit._highlightResult,t);"development"==="production".NODE_ENV&&Or(o,'Could not enable reverse highlight for "'.concat(t,'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var c=(o||{}).value,s=void 0===c?"":c,u=pa({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return Xr(ai(Gr(s))).replace(new RegExp(Vr,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(zr,"g"),"</".concat(r,">"))}var ma=la("Snippet");function va(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.cssClasses,a=void 0===i?{}:i,o=xr(e.hit._snippetResult,t);"development"==="production".NODE_ENV&&Or(o,'Could not enable snippet for "'.concat(t,'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var c=(o||{}).value,s=void 0===c?"":c,u=ma({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return s.replace(new RegExp(Vr,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(zr,"g"),"</".concat(r,">"))}var ya=la("ReverseSnippet");function ba(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.cssClasses,a=void 0===i?{}:i,o=xr(e.hit._snippetResult,t);"development"==="production".NODE_ENV&&Or(o,'Could not enable reverse snippet for "'.concat(t,'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var c=(o||{}).value,s=void 0===c?"":c,u=ya({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return Xr(ai(Gr(s))).replace(new RegExp(Vr,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(zr,"g"),"</".concat(r,">"))}function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wa(e,t){return"development"==="production".NODE_ENV&&Or(!1,"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),function(e){var t,n=e.method,r=e.payload;if("object"!==Oa(r))throw new Error("The insights helper expects the payload to be an object.");try{t=Mi(r)}catch(e){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(n,'" data-insights-payload="').concat(t,'"')}({method:e,payload:t})}function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(n),!0).forEach(function(t){Pa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ra(e){var t=e.numberLocale;return{formatNumber:function(e,n){return Number(n(e)).toLocaleString(t)},highlight:function(e,t){try{return t(da(ja(ja({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(ga(ja(ja({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(va(ja(ja({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t(ba(ja(ja({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var n=JSON.parse(e);return t(wa(n.method,ja({objectIDs:[this.objectID]},n.payload)))}catch(e){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}function _a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(n),!0).forEach(function(t){Ea(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fa(e){return function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["configure"])}function Ia(){return{stateToRoute:function(e){return Object.keys(e).reduce(function(t,n){return xa(xa({},t),{},Ea({},n,Fa(e[n])))},{})},routeToState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){return xa(xa({},t),{},Ea({},n,Fa(e[n])))},{})}}}var Aa=String.prototype.replace,Ta=/%20/g,Da="RFC3986",Na={default:Da,formatters:{RFC1738:function(e){return Aa.call(e,Ta,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:Da},ka=Object.prototype.hasOwnProperty,Ca=Array.isArray,La=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Wa=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},Ha={arrayToObject:Wa,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],o=Object.keys(a),c=0;c<o.length;++c){var s=o[c],u=a[s];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:s}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Ca(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,r,i){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o="",c=0;c<a.length;++c){var s=a.charCodeAt(c);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||i===Na.RFC1738&&(40===s||41===s)?o+=a.charAt(c):s<128?o+=La[s]:s<2048?o+=La[192|s>>6]+La[128|63&s]:s<55296||s>=57344?o+=La[224|s>>12]+La[128|s>>6&63]+La[128|63&s]:(s=65536+((1023&s)<<10|1023&a.charCodeAt(c+=1)),o+=La[240|s>>18]+La[128|s>>12&63]+La[128|s>>6&63]+La[128|63&s])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(Ca(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(Ca(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!ka.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var i=t;return Ca(t)&&!Ca(n)&&(i=Wa(t,r)),Ca(t)&&Ca(n)?(n.forEach(function(n,i){if(ka.call(t,i)){var a=t[i];a&&"object"==typeof a&&n&&"object"==typeof n?t[i]=e(a,n,r):t.push(n)}else t[i]=n}),t):Object.keys(n).reduce(function(t,i){var a=n[i];return t[i]=ka.call(t,i)?e(t[i],a,r):a,t},i)}},Ma=Object.prototype.hasOwnProperty,Ua={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Qa=Array.isArray,qa=String.prototype.split,$a=Array.prototype.push,Ba=function(e,t){$a.apply(e,Qa(t)?t:[t])},Va=Date.prototype.toISOString,za=Na.default,Ja={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ha.encode,encodeValuesOnly:!1,format:za,formatter:Na.formatters[za],indices:!1,serializeDate:function(e){return Va.call(e)},skipNulls:!1,strictNullHandling:!1},Ka=function e(t,n,r,i,a,o,c,s,u,f,l,h,d,p){var g,m=t;if("function"==typeof c?m=c(n,m):m instanceof Date?m=f(m):"comma"===r&&Qa(m)&&(m=Ha.maybeMap(m,function(e){return e instanceof Date?f(e):e})),null===m){if(i)return o&&!d?o(n,Ja.encoder,p,"key",l):n;m=""}if("string"==typeof(g=m)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||Ha.isBuffer(m)){if(o){var v=d?n:o(n,Ja.encoder,p,"key",l);if("comma"===r&&d){for(var y=qa.call(String(m),","),b="",O=0;O<y.length;++O)b+=(0===O?"":",")+h(o(y[O],Ja.encoder,p,"value",l));return[h(v)+"="+b]}return[h(v)+"="+h(o(m,Ja.encoder,p,"value",l))]}return[h(n)+"="+h(String(m))]}var w,S=[];if(void 0===m)return S;if("comma"===r&&Qa(m))w=[{value:m.length>0?m.join(",")||null:void 0}];else if(Qa(c))w=c;else{var j=Object.keys(m);w=s?j.sort(s):j}for(var P=0;P<w.length;++P){var R=w[P],_="object"==typeof R&&void 0!==R.value?R.value:m[R];if(!a||null!==_){var x=Qa(m)?"function"==typeof r?r(n,R):n:n+(u?"."+R:"["+R+"]");Ba(S,e(_,x,r,i,a,o,c,s,u,f,l,h,d,p))}}return S},Ya=Object.prototype.hasOwnProperty,Za=Array.isArray,Xa={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ha.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Ga=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},eo=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},to=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,o=n.depth>0&&/(\[[^[\]]*])/.exec(i),c=o?i.slice(0,o.index):i,s=[];if(c){if(!n.plainObjects&&Ya.call(Object.prototype,c)&&!n.allowPrototypes)return;s.push(c)}for(var u=0;n.depth>0&&null!==(o=a.exec(i))&&u<n.depth;){if(u+=1,!n.plainObjects&&Ya.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(o[1])}return o&&s.push("["+i.slice(o.index)+"]"),function(e,t,n,r){for(var i=r?t:eo(t,n),a=e.length-1;a>=0;--a){var o,c=e[a];if("[]"===c&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var s="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,u=parseInt(s,10);n.parseArrays||""!==s?!isNaN(u)&&c!==s&&String(u)===s&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(o=[])[u]=i:"__proto__"!==s&&(o[s]=i):o={0:i}}i=o}return i}(s,t,n,r)}},no={formats:Na,parse:function(e,t){var n=function(e){if(!e)return Xa;if(null!=e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:void 0===e.allowDots?Xa.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Xa.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Xa.arrayLimit,charset:void 0===e.charset?Xa.charset:e.charset,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Xa.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Xa.comma,decoder:"function"==typeof e.decoder?e.decoder:Xa.decoder,delimiter:"string"==typeof e.delimiter||Ha.isRegExp(e.delimiter)?e.delimiter:Xa.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Xa.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Xa.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Xa.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Xa.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Xa.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){var n,r={},i=(t.ignoreQueryPrefix?e.replace(/^\?/,""):e).split(t.delimiter,Infinity===t.parameterLimit?void 0:t.parameterLimit),a=-1,o=t.charset;if(t.charsetSentinel)for(n=0;n<i.length;++n)0===i[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===i[n]?o="utf-8":"utf8=%26%2310003%3B"===i[n]&&(o="iso-8859-1"),a=n,n=i.length);for(n=0;n<i.length;++n)if(n!==a){var c,s,u=i[n],f=u.indexOf("]="),l=-1===f?u.indexOf("="):f+1;-1===l?(c=t.decoder(u,Xa.decoder,o,"key"),s=t.strictNullHandling?null:""):(c=t.decoder(u.slice(0,l),Xa.decoder,o,"key"),s=Ha.maybeMap(eo(u.slice(l+1),t),function(e){return t.decoder(e,Xa.decoder,o,"value")})),s&&t.interpretNumericEntities&&"iso-8859-1"===o&&(s=Ga(s)),u.indexOf("[]=")>-1&&(s=Za(s)?[s]:s),r[c]=Ya.call(r,c)?Ha.combine(r[c],s):s}return r}(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),o=0;o<a.length;++o){var c=a[o],s=to(c,r[c],n,"string"==typeof e);i=Ha.merge(i,s,n)}return Ha.compact(i)},stringify:function(e,t){var n,r=e,i=function(e){if(!e)return Ja;if(null!=e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||Ja.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Na.default;if(void 0!==e.format){if(!Ma.call(Na.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=Na.formatters[n],i=Ja.filter;return("function"==typeof e.filter||Qa(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:Ja.addQueryPrefix,allowDots:void 0===e.allowDots?Ja.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Ja.charsetSentinel,delimiter:void 0===e.delimiter?Ja.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:Ja.encode,encoder:"function"==typeof e.encoder?e.encoder:Ja.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:Ja.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:Ja.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:Ja.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Ja.strictNullHandling}}(t);"function"==typeof i.filter?r=(0,i.filter)("",r):Qa(i.filter)&&(n=i.filter);var a=[];if("object"!=typeof r||null===r)return"";var o=Ua[t&&t.arrayFormat in Ua?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices"];n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=0;c<n.length;++c){var s=n[c];i.skipNulls&&null===r[s]||Ba(a,Ka(r[s],s,o,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset))}var u=a.join(i.delimiter),f=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&(f+="iso-8859-1"===i.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),u.length>0?f+u:""}};function ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var io=function(e){e&&(window.document.title=e)},ao=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,a=void 0===i?400:i,o=t.createURL,c=t.parseURL,s=t.getLocation;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ro(this,"windowTitle",void 0),ro(this,"writeDelay",void 0),ro(this,"_createURL",void 0),ro(this,"parseURL",void 0),ro(this,"getLocation",void 0),ro(this,"writeTimer",void 0),ro(this,"shouldPushState",!0),ro(this,"isDisposed",!1),ro(this,"latestAcknowledgedHistory",0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=a,this._createURL=o,this.parseURL=c,this.getLocation=s,Ki(function(e){var t=e.window,r=n.windowTitle&&n.windowTitle(n.read());io(r),n.latestAcknowledgedHistory=t.history.length})}var t;return(t=[{key:"read",value:function(){return this.parseURL({qsModule:no,location:this.getLocation()})}},{key:"write",value:function(e){var t=this;Ki(function(n){var r=n.window,i=t.createURL(e),a=t.windowTitle&&t.windowTitle(e);t.writeTimer&&clearTimeout(t.writeTimer),t.writeTimer=setTimeout(function(){io(a),t.shouldPushState&&(!t.isDisposed||t.latestAcknowledgedHistory===r.history.length)&&(r.history.pushState(e,a||"",i),t.latestAcknowledgedHistory=r.history.length),t.shouldPushState=!0,t.writeTimer=void 0},t.writeDelay)})}},{key:"onUpdate",value:function(e){var t=this;this._onPopState=function(n){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.shouldPushState=!1,e(n.state||t.read())},Ki(function(e){e.window.addEventListener("popstate",t._onPopState)})}},{key:"createURL",value:function(e){return this._createURL({qsModule:no,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var e=this;this.isDisposed=!0,Ki(function(t){e._onPopState&&t.window.removeEventListener("popstate",e._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function oo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createURL,n=void 0===t?function(e){var t=e.location,n=t.protocol,r=t.hostname,i=t.port,a=void 0===i?"":i,o=t.pathname,c=t.hash,s=e.qsModule.stringify(e.routeState),u=""===a?"":":".concat(a);return s?"".concat(n,"//").concat(r).concat(u).concat(o,"?").concat(s).concat(c):"".concat(n,"//").concat(r).concat(u).concat(o).concat(c)}:t,r=e.parseURL,i=void 0===r?function(e){return e.qsModule.parse(e.location.search.slice(1),{arrayLimit:99})}:r,a=e.writeDelay,o=void 0===a?400:a,c=e.windowTitle,s=e.getLocation,u=void 0===s?function(){return Ki(function(e){return e.window.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:s;return new ao({createURL:n,parseURL:i,writeDelay:o,windowTitle:c,getLocation:u})}function co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?co(Object(n),!0).forEach(function(t){uo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):co(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fo(e,t,n){var r=t.mainIndex,i={instantSearchInstance:t,parent:r,scopedResults:[],state:r.getHelper().state,helper:r.getHelper(),createURL:r.createURL,uiState:t._initialUiState,renderState:t.renderState,templatesConfig:t.templatesConfig,searchMetadata:{isSearchStalled:t._isSearchStalled}};e.forEach(function(e){var r={};if(e.getWidgetRenderState){var a=e.getWidgetRenderState(i);a&&a.widgetParams&&(r=a.widgetParams)}var o=Object.keys(r).filter(function(e){return void 0!==r[e]});n.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:o}),"ais.index"===e.$$type&&fo(e.getWidgets(),t,n)})}function lo(){return function(e){var t=e.instantSearchInstance,n={widgets:[]},r=document.createElement("meta"),i=document.querySelector("head");return r.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout(function(){var e=t.client;n.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,fo(t.mainIndex.getWidgets(),t,n),r.content=JSON.stringify(n),i.appendChild(r)},0)},unsubscribe:function(){r.remove()}}}}function ho(e){return(ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach(function(t){Oo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vo(e,t){return!t||"object"!==ho(t)&&"function"!=typeof t?yo(e):t}function yo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bo(e){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wo=ji({name:"instantsearch"});function So(){return"#"}var jo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(a,e);var t,n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=bo(n);if(r){var i=bo(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return vo(this,e)});function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Oo(yo(t=i.call(this)),"client",void 0),Oo(yo(t),"indexName",void 0),Oo(yo(t),"insightsClient",void 0),Oo(yo(t),"onStateChange",null),Oo(yo(t),"helper",void 0),Oo(yo(t),"mainHelper",void 0),Oo(yo(t),"mainIndex",void 0),Oo(yo(t),"started",void 0),Oo(yo(t),"templatesConfig",void 0),Oo(yo(t),"renderState",{}),Oo(yo(t),"_stalledSearchDelay",void 0),Oo(yo(t),"_searchStalledTimer",void 0),Oo(yo(t),"_isSearchStalled",void 0),Oo(yo(t),"_initialUiState",void 0),Oo(yo(t),"_initialResults",void 0),Oo(yo(t),"_createURL",void 0),Oo(yo(t),"_searchFunction",void 0),Oo(yo(t),"_mainHelperSearch",void 0),Oo(yo(t),"middleware",[]),Oo(yo(t),"sendEventToInsights",void 0),Oo(yo(t),"scheduleSearch",cr(function(){t.started&&t.mainHelper.search()})),Oo(yo(t),"scheduleRender",cr(function(){t.mainHelper.hasPendingRequests()||(clearTimeout(t._searchStalledTimer),t._searchStalledTimer=null,t._isSearchStalled=!1),t.mainIndex.render({instantSearchInstance:yo(t)}),t.emit("render")})),Oo(yo(t),"onInternalStateChange",cr(function(){var e=t.mainIndex.getWidgetUiState({});t.middleware.forEach(function(t){t.instance.onStateChange({uiState:e})})}));var n=e.indexName,r=void 0===n?null:n,o=e.numberLocale,c=e.initialUiState,s=void 0===c?{}:c,u=e.routing,f=void 0===u?null:u,l=e.searchFunction,h=e.stalledSearchDelay,d=void 0===h?200:h,p=e.searchClient,g=void 0===p?null:p,m=e.insightsClient,v=void 0===m?null:m,y=e.onStateChange,b=void 0===y?null:y;if(null===r)throw new Error(wo("The `indexName` option is required."));if(null===g)throw new Error(wo("The `searchClient` option is required."));if("function"!=typeof g.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof g.addAlgoliaAgent&&g.addAlgoliaAgent("instantsearch.js (".concat(fa,")")),"development"==="production".NODE_ENV&&Or(null===v,"`insightsClient` property has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),v&&"function"!=typeof v)throw new Error(wo("The `insightsClient` option should be a function."));return"development"==="production".NODE_ENV&&Or(!e.searchParameters,"The `searchParameters` option is deprecated and will not be supported in InstantSearch.js 4.x.\n\nYou can replace it with the `configure` widget:\n\n```\nsearch.addWidgets([\n  configure(".concat(JSON.stringify(e.searchParameters,null,2),")\n]);\n```\n\nSee ").concat(Si({name:"configure"}))),t.client=g,t.insightsClient=v,t.indexName=r,t.helper=null,t.mainHelper=null,t.mainIndex=sa({indexName:r}),t.onStateChange=b,t.started=!1,t.templatesConfig={helpers:Ra({numberLocale:o}),compileOptions:{}},t._stalledSearchDelay=d,t._searchStalledTimer=null,t._isSearchStalled=!1,t._createURL=So,t._initialUiState=s,t._initialResults=null,l&&(t._searchFunction=l),t.sendEventToInsights=vr,f&&t.use(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,n=void 0===t?oo():t,r=e.stateMapping,i=void 0===r?Ia():r;return function(e){var t=e.instantSearchInstance;t._createURL=function(e){var r=Object.keys(e).reduce(function(t,n){return so(so({},t),{},uo({},n,e[n]))},t.mainIndex.getWidgetUiState({})),a=i.stateToRoute(r);return n.createURL(a)};var r=void 0,a=t._initialUiState;return{onStateChange:function(e){var t=i.stateToRoute(e.uiState);void 0!==r&&Nr(r,t)||(n.write(t),r=t)},subscribe:function(){t._initialUiState=so(so({},a),i.routeToState(n.read())),n.onUpdate(function(e){t.setUiState(i.routeToState(e))})},unsubscribe:function(){n.dispose()}}}}("boolean"==typeof f?void 0:f)),Ki(function(e){var t,n;return(null===(t=e.window.navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})&&t.use(lo()),t}return(t=[{key:"use",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.map(function(t){var n=go({subscribe:vr,unsubscribe:vr,onStateChange:vr},t({instantSearchInstance:e}));return e.middleware.push({creator:t,instance:n}),n});return this.started&&i.forEach(function(e){e.subscribe()}),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.middleware.filter(function(e){return t.includes(e.creator)}).forEach(function(e){return e.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(e){return!t.includes(e.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return"development"==="production".NODE_ENV&&Or(!1,"The middleware API is now considered stable, so we recommend replacing `EXPERIMENTAL_use` with `use` before upgrading to the next major version."),this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return"development"==="production".NODE_ENV&&Or(!1,"addWidget will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`"),this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(wo("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(wo("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return"development"==="production".NODE_ENV&&Or(!1,"removeWidget will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`"),this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(wo("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(wo("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var e=this;if(this.started)throw new Error(wo("The `start` method has already been called once."));var t=this.mainHelper||ir(this.client,this.indexName);if(t.search=function(){return t.searchOnlyWithDerivedHelpers()},this._searchFunction){var n={search:function(){return new Promise(vr)}};this._mainHelperSearch=t.search.bind(t),t.search=function(){var r=e.mainIndex.getHelper(),i=ir(n,r.state.index,r.state);return i.once("search",function(t){r.overrideStateWithoutTriggeringChangeEvent(t.state),e._mainHelperSearch()}),i.on("change",function(e){r.setState(e.state)}),e._searchFunction(i),t}}if(t.on("error",function(t){var n=t.error;n.error=n,e.emit("error",n)}),this.mainHelper=t,this.middleware.forEach(function(e){e.instance.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var r=this.scheduleSearch;this.scheduleSearch=cr(vr),cr(function(){e.scheduleSearch=r})()}else this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(e){e.instance.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){e._isSearchStalled=!0,e.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(e){if(!this.mainHelper)throw new Error(wo("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var t="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;!function e(n){var r=t[n.getIndexId()]||{};"development"==="production".NODE_ENV&&_r({index:n,indexUiState:r}),n.getHelper().setState(n.getWidgetSearchParameters(n.getHelper().state,{uiState:r})),n.getWidgets().filter(na).forEach(e)}(this.mainIndex),this.scheduleSearch(),this.onInternalStateChange()}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(wo("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(wo("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,t),a}($n);function Po(e){return function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e||{},["page"])}var Ro="ais.infiniteHits",_o=function(e){return new jo(e)};function xo(e){return function(e){if(Array.isArray(e))return Eo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eo(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach(function(t){Ao(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_o.version=fa,_o.createInfiniteHitsSessionStorageCache=yr(function(){return{read:function(e){var t=e.state,n=Ki(function(e){return e.window.sessionStorage});if(!n)return null;try{var r=JSON.parse(n.getItem(Ro));return r&&Nr(r.state,Po(t))?r.hits:null}catch(e){if(e instanceof SyntaxError)try{n.removeItem(Ro)}catch(e){}return null}},write:function(e){var t=e.state,n=e.hits,r=Ki(function(e){return e.window.sessionStorage});if(r)try{r.setItem(Ro,JSON.stringify({state:Po(t),hits:n}))}catch(e){}}}},"import { createInfiniteHitsSessionStorageCache } from 'instantsearch.js/es/helpers'"),_o.highlight=yr(da,"import { highlight } from 'instantsearch.js/es/helpers'"),_o.reverseHighlight=yr(ga,"import { reverseHighlight } from 'instantsearch.js/es/helpers'"),_o.snippet=yr(va,"import { snippet } from 'instantsearch.js/es/helpers'"),_o.reverseSnippet=yr(ba,"import { reverseSnippet } from 'instantsearch.js/es/helpers'"),_o.insights=wa,_o.getInsightsAnonymousUserToken=function(){return"development"==="production".NODE_ENV&&Or(!1,"`getInsightsAnonymousUserToken` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),function(e){for(var t="".concat("_ALGOLIA","="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}()},Object.defineProperty(_o,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(_o,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}});var To=ji({name:"clear-refinements",connector:!0});function Do(e){var t=e.scopedResult,n=e.includedAttributes,r=e.excludedAttributes,i=e.transformItems,a=e.results,o=-1!==n.indexOf("query")||-1===r.indexOf("query");return{helper:t.helper,items:i(sr(hr(t.results,t.helper.state,o).map(function(e){return e.attribute}).filter(function(e){return 0===n.length||-1!==n.indexOf(e)}).filter(function(e){return"query"===e&&o||-1===r.indexOf(e)})),{results:a})}}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ko(Object(n),!0).forEach(function(t){Lo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ko(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wo=ji({name:"current-refinements",connector:!0});function Ho(e){var t=e.results,n=e.helper,r=e.includedAttributes,i=e.excludedAttributes,a=-1!==(r||[]).indexOf("query")||-1===(i||[]).indexOf("query"),o=r?function(e){return-1!==r.indexOf(e.attribute)}:function(e){return-1===i.indexOf(e.attribute)},c=hr(t,n.state,a).map(Qo).filter(o);return c.reduce(function(e,t){return[].concat(function(e){if(Array.isArray(e))return No(e)}(r=e.filter(function(e){return e.attribute!==t.attribute}))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return No(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?No(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{indexName:n.state.index,attribute:t.attribute,label:t.attribute,refinements:c.filter(function(e){return e.attribute===t.attribute}).sort(function(e,t){return"numeric"===e.type?e.value-t.value:0}),refine:function(e){return Uo(n,e)}}]);var r},[])}function Mo(e,t){switch(t.type){case"facet":return e.removeFacetRefinement(t.attribute,String(t.value));case"disjunctive":return e.removeDisjunctiveFacetRefinement(t.attribute,String(t.value));case"hierarchical":return e.removeHierarchicalFacetRefinement(t.attribute);case"exclude":return e.removeExcludeRefinement(t.attribute,String(t.value));case"numeric":return e.removeNumericRefinement(t.attribute,t.operator,String(t.value));case"tag":return e.removeTagRefinement(String(t.value));case"query":return e.setQueryParameter("query","");default:return"development"==="production".NODE_ENV&&Or(!1,'The refinement type "'.concat(t.type,'" does not exist and cannot be cleared from the current refinements.')),e}}function Uo(e,t){e.setState(Mo(e.state,t)).search()}function Qo(e){var t="numeric"===e.type?Number(e.name):e.name,n=e.operator?"".concat(function(e){switch(e){case">=":return"";case"<=":return"";default:return e}}(e.operator)," ").concat(e.name):e.name,r={attribute:e.attribute,type:e.type,value:t,label:n};return void 0!==e.operator&&(r.operator=e.operator),void 0!==e.count&&(r.count=e.count),void 0!==e.exhaustive&&(r.exhaustive=e.exhaustive),r}function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(n),!0).forEach(function(t){Bo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ko=ji({name:"hierarchical-menu",connector:!0}),Yo=["name:asc"];function Zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(n),!0).forEach(function(t){Go(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ec=ji({name:"hits",connector:!0}),tc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,ec()),function(n){var r,i,a=n||{},o=a.escapeHTML,c=void 0===o||o,s=a.transformItems,u=void 0===s?function(e){return e}:s;return{$$type:"ais.hits",init:function(t){e(Xo(Xo({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=this.getWidgetRenderState(t);n.sendEvent("view",n.hits),e(Xo(Xo({},n),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return Xo(Xo({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,a=e.helper;if(r||(r=qi({instantSearchInstance:e.instantSearchInstance,index:a.getIndex(),widgetType:this.$$type})),i||(i=$i({index:a.getIndex(),widgetType:this.$$type})),!t)return{hits:[],results:void 0,sendEvent:r,bindEvent:i,widgetParams:n};c&&t.hits.length>0&&(t.hits=Yr(t.hits));var o=Ci(Ti(t.hits,t.page,t.hitsPerPage),t.queryID);return{hits:u(o,{results:t}),results:t,sendEvent:r,bindEvent:i,widgetParams:n}},dispose:function(e){var n=e.state;return t(),c?n.setQueryParameters(Object.keys(Br).reduce(function(e,t){return Xo(Xo({},e),{},Go({},t,void 0))},{})):n},getWidgetSearchParameters:function(e){return c?e.setQueryParameters(Br):e}}}};function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(n),!0).forEach(function(t){ic(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ac=function(e){var t,n=e.method,r=e.objectIDs,i=e.results.index,a=(t=e.hits,r.map(function(e){var n=ur(t,function(t){return t.objectID===e});if(void 0===n)throw new Error('Could not find objectID "'.concat(e,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return n})),o=function(e){var t=sr(e.map(function(e){return e.__queryID}));if(t.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var n=t[0];if("string"!=typeof n)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return n}(a);switch(n){case"clickedObjectIDsAfterSearch":return{index:i,queryID:o,objectIDs:r,positions:function(e){return e.map(function(e){return e.__position})}(a)};case"convertedObjectIDsAfterSearch":return{index:i,queryID:o,objectIDs:r};default:throw new Error('Unsupported method passed to insights: "'.concat(n,'".'))}};function oc(e){return function(t,n){return e(function(e,n){var r=e.results,i=e.hits,a=e.instantSearchInstance;if(r&&i&&a){var o=function(e,t,n){return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];var c=a[0];if("development"==="production".NODE_ENV&&Or(!1,"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),!e){var s=ji({name:"instantsearch"});throw new Error(s("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(c.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var u=ac({method:r,results:t,hits:n,objectIDs:c.objectIDs});e(r,rc(rc({},u),c))}}(a.insightsClient,r,i);return t(rc(rc({},e),{},{insights:o}),n)}return t(e,n)},n)}}var cc=oc(tc);function sc(e){return function(e){if(Array.isArray(e))return uc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return uc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fc(Object(n),!0).forEach(function(t){hc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dc=ji({name:"hits-per-page",connector:!0});function pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(n),!0).forEach(function(t){mc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vc(e){return function(e){if(Array.isArray(e))return yc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return yc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bc=ji({name:"infinite-hits",connector:!0});function Oc(e){return function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e||{},["page"])}function wc(){var e=null,t=null;return{read:function(n){return Nr(t,Oc(n.state))?e:null},write:function(n){var r=n.hits;t=Oc(n.state),e=r}}}function Sc(e){return Object.keys(e).map(Number).sort(function(e,t){return e-t}).reduce(function(t,n){return t.concat(e[n])},[])}var jc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,bc()),function(n){var r,i,a,o,c=n||{},s=c.escapeHTML,u=void 0===s||s,f=c.transformItems,l=void 0===f?function(e){return e}:f,h=c.cache,d=void 0===h?wc():h,p=function(e,t){var n=e.page,r=void 0===n?0:n,i=Object.keys(t).map(Number);return 0===i.length?r:Math.min.apply(Math,[r].concat(vc(i)))},g=function(e,t){var n=e.page,r=void 0===n?0:n,i=Object.keys(t).map(Number);return 0===i.length?r:Math.max.apply(Math,[r].concat(vc(i)))};return{$$type:"ais.infiniteHits",init:function(t){e(gc(gc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=t.instantSearchInstance,r=this.getWidgetRenderState(t);a("view",r.currentPageHits),e(gc(gc({},r),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return gc(gc({},e),{},{infiniteHits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,c=e.results,s=e.helper,f=e.state,h=e.instantSearchInstance,m=[],v=d.read({state:f})||{};if(c){var y=f.page,b=void 0===y?0:y;u&&c.hits.length>0&&(c.hits=Yr(c.hits));var O=Ci(Ti(c.hits,c.page,c.hitsPerPage),c.queryID),w=l(O,{results:c});void 0===v[b]&&(v[b]=w,d.write({state:f,hits:v})),m=w,t=0===p(f,v)}else r=function(e){return function(){e.overrideStateWithoutTriggeringChangeEvent(gc(gc({},e.state),{},{page:p(e.state,d.read({state:e.state})||{})-1})).searchWithoutTriggeringOnStateChange()}}(s),i=function(e){return function(){e.setPage(g(e.state,d.read({state:e.state})||{})+1).search()}}(s),a=qi({instantSearchInstance:h,index:s.getIndex(),widgetType:this.$$type}),o=$i({index:s.getIndex(),widgetType:this.$$type}),t=void 0===f.page||0===p(f,v);var S=Sc(v),j=!c||c.nbPages<=g(f,v)+1;return{hits:S,currentPageHits:m,sendEvent:a,bindEvent:o,results:c,showPrevious:r,showMore:i,isFirstPage:t,isLastPage:j,widgetParams:n}},dispose:function(e){var n=e.state;t();var r=n.setQueryParameter("page",void 0);return u?r.setQueryParameters(Object.keys(Br).reduce(function(e,t){return gc(gc({},e),{},mc({},t,void 0))},{})):r},getWidgetUiState:function(e,t){var n=t.searchParameters.page||0;return n?gc(gc({},e),{},{page:n+1}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=e;return u&&(r=e.setQueryParameters(Br)),r.setQueryParameter("page",n.page?n.page-1:0)}}}},Pc=oc(jc);function Rc(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(n),!0).forEach(function(t){Ic(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ac=ji({name:"menu",connector:!0}),Tc=["isRefined","name:asc"];function Dc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(n),!0).forEach(function(t){Lc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wc=ji({name:"numeric-menu",connector:!0}),Hc="ais.numericMenu",Mc=function(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute;return function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];if(1!==i.length){var o=i[0],c=i[1],s=i[2],u=void 0===s?"Filter Applied":s;if("click"===o){var f=Bi(Qc(n.state,r,c),r);f&&f.length>0&&t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Hc,eventType:o,payload:{eventName:u,index:n.getIndex(),filters:f},attribute:r})}}else t.sendEventToInsights(i[0])}};function Uc(e,t,n){var r=e.getNumericRefinements(t);return void 0!==n.start&&void 0!==n.end?n.start===n.end?qc(r,"=",n.start):qc(r,">=",n.start)&&qc(r,"<=",n.end):void 0!==n.start?qc(r,">=",n.start):void 0!==n.end?qc(r,"<=",n.end):void 0===n.start&&void 0===n.end&&Object.keys(r).every(function(e){return 0===(r[e]||[]).length})}function Qc(e,t,n){var r=e,i=JSON.parse(decodeURI(n)),a=r.getNumericRefinements(t);if(void 0===i.start&&void 0===i.end)return r.removeNumericRefinement(t);if(Uc(r,t,i)||(r=r.removeNumericRefinement(t)),void 0!==i.start&&void 0!==i.end){if(i.start>i.end)throw new Error("option.start should be > to option.end");if(i.start===i.end)return qc(a,"=",i.start)?r.removeNumericRefinement(t,"=",i.start):r.addNumericRefinement(t,"=",i.start)}return void 0!==i.start&&(qc(a,">=",i.start)&&(r=r.removeNumericRefinement(t,">=",i.start)),r=r.addNumericRefinement(t,">=",i.start)),void 0!==i.end&&(qc(a,"<=",i.end)&&(r=r.removeNumericRefinement(t,"<=",i.end)),r=r.addNumericRefinement(t,"<=",i.end)),"number"==typeof r.page&&(r.page=0),r}function qc(e,t,n){return void 0!==e[t]&&e[t].includes(n)}function $c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$c(this,"currentPage",void 0),$c(this,"total",void 0),$c(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}var t;return(t=[{key:"pages",value:function(){var e=this.total,t=this.currentPage,n=this.padding;if(0===e)return[0];var r=this.nbPagesDisplayed(n,e);if(r===e)return Tr({end:e});var i=this.calculatePaddingLeft(t,n,e,r);return Tr({start:t-i,end:t+(r-i)})}},{key:"nbPagesDisplayed",value:function(e,t){return Math.min(2*e+1,t)}},{key:"calculatePaddingLeft",value:function(e,t,n,r){return e<=t?e:e>=n-t?r-(n-e):t}},{key:"isLastPage",value:function(){return this.currentPage===this.total-1||0===this.total}},{key:"isFirstPage",value:function(){return 0===this.currentPage}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vc(Object(n),!0).forEach(function(t){Jc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kc=ji({name:"pagination",connector:!0});function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(n),!0).forEach(function(t){Xc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?es(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ts=ji({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),ns="ais.range";function rs(e){var t=e.min,n=e.max,r=Math.pow(10,e.precision);return{min:t?Math.floor(t*r)/r:t,max:n?Math.ceil(n*r)/r:n}}function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?is(Object(n),!0).forEach(function(t){os(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cs(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ss=ji({name:"refinement-list",connector:!0}),us=["isRefined","count:desc","name:asc"];function fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ls(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(n),!0).forEach(function(t){hs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ds=ji({name:"search-box",connector:!0}),ps=function(e,t){return t(e)};function gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gs(Object(n),!0).forEach(function(t){vs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ys=ji({name:"sort-by",connector:!0});function bs(e){return function(e){if(Array.isArray(e))return Rs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ps(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(n),!0).forEach(function(t){Ss(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Os(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function js(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}}(e,t)||Ps(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ps(e,t){if(e){if("string"==typeof e)return Rs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rs(e,t):void 0}}function Rs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _s=ji({name:"rating-menu",connector:!0}),xs="ais.ratingMenu",Es=1e3,Fs=function(e){var t=e.instantSearchInstance,n=e.helper,r=e.getRefinedStar,i=e.attribute;return function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];if(1!==a.length){var c=a[0],s=a[1],u=a[2],f=void 0===u?"Filter Applied":u;if("click"===c){var l=r()===Number(s);l||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:xs,eventType:c,payload:{eventName:f,index:n.getIndex(),filters:["".concat(i,">=").concat(s)]},attribute:i})}}else t.sendEventToInsights(a[0])}};function Is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function As(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Is(Object(n),!0).forEach(function(t){Ts(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Is(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ds=ji({name:"stats",connector:!0});function Ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ns(Object(n),!0).forEach(function(t){Cs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ns(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ls=ji({name:"toggle-refinement",connector:!0}),Ws="ais.toggleRefinement",Hs=function(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.on;return function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];if(1!==a.length){var c=a[0],s=a[1],u=a[2],f=void 0===u?"Filter Applied":u;"click"===c&&void 0!==i&&(s||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Ws,eventType:c,payload:{eventName:f,index:n.getIndex(),filters:i.map(function(e){return"".concat(r,":").concat(e)})},attribute:r}))}else t.sendEventToInsights(a[0])}};function Ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(n),!0).forEach(function(t){Qs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bs=ji({name:"breadcrumb",connector:!0});function Vs(e){return e.reduce(function(e,t){return t.isRefined&&(e.push({label:t.name,value:t.path}),Array.isArray(t.data)&&(e=e.concat(Vs(t.data)))),e},[])}function zs(e){return e.map(function(t,n){return{label:t.label,value:n+1===e.length?null:e[n+1].value}})}function Js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(n),!0).forEach(function(t){Ys(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zs=ji({name:"geo-search",connector:!0});function Xs(e){return e.insideBoundingBox||""}function Gs(e,t){return e.setQueryParameter("insideBoundingBox",t)}var eu="ais.geoSearch";function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach(function(t){ru(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iu=ji({name:"powered-by",connector:!0});function au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?au(Object(n),!0).forEach(function(t){cu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):au(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var su=ji({name:"configure",connector:!0});function uu(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(e,t){return ou(ou({},e),{},cu({},t,void 0))},{}))}var fu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return function(n){if(!n||!Ir(n.searchParameters))throw new Error(su("The `searchParameters` option expects an object."));var r={};return{$$type:"ais.configure",init:function(t){var n=t.instantSearchInstance;e(ou(ou({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(ou(ou({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var r=e.state;return t(),uu(r,n)},getRenderState:function(e,t){var n,r=this.getWidgetRenderState(t);return ou(ou({},e),{},{configure:ou(ou({},r),{},{widgetParams:ou(ou({},r.widgetParams),{},{searchParameters:Oi(new ir.SearchParameters(null===(n=e.configure)||void 0===n?void 0:n.widgetParams.searchParameters),new ir.SearchParameters(r.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(e){return r.refine||(r.refine=(t=e.helper,function(e){var r=uu(t.state,n),i=Oi(r,new ir.SearchParameters(e));n.searchParameters=e,t.setState(i).search()})),{refine:r.refine,widgetParams:n};var t},getWidgetSearchParameters:function(e,t){return Oi(e,new ir.SearchParameters(ou(ou({},t.uiState.configure),n.searchParameters)))},getWidgetUiState:function(e){return ou(ou({},e),{},{configure:ou(ou({},e.configure),n.searchParameters)})}}}};function lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(n),!0).forEach(function(t){du(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pu(e){return function(e){if(Array.isArray(e))return gu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mu=ji({name:"configure-related-items",connector:!0});function vu(e){var t=e.attributeValue,n=e.attributeScore;return"".concat(e.attributeName,":").concat(t,"<score=").concat(n||1,">")}function yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yu(Object(n),!0).forEach(function(t){Ou(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ou(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wu=ji({name:"autocomplete",connector:!0});function Su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Su(Object(n),!0).forEach(function(t){Pu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Su(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ru(e){return function(e){if(Array.isArray(e))return _u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xu=ji({name:"query-rules",connector:!0});function Eu(e){return[e.disjunctiveFacetsRefinements,e.facetsRefinements,e.hierarchicalFacetsRefinements,e.numericRefinements].some(function(e){return Boolean(e&&Object.keys(e).length>0)})}function Fu(e){var t=this.helper,n=this.initialRuleContexts,r=this.transformRuleContexts,i=e.state,a=i.ruleContexts||[],o=function(e){var t=e.helper,n=e.sharedHelperState,r=e.trackedFilters;return Object.keys(r).reduce(function(e,i){var a=hr(t.lastResults||{},n,!0).filter(function(e){return e.attribute===i}).map(function(e){return e.numericValue||e.name}),o=(0,r[i])(a);return[].concat(Ru(e),Ru(a.filter(function(e){return o.includes(e)}).map(function(e){return"ais-".concat(i,"-").concat(e).replace(/[^a-z0-9-_]+/gi,"_")})))},[])}({helper:t,sharedHelperState:i,trackedFilters:this.trackedFilters}),c=[].concat(Ru(n),Ru(o));"development"==="production".NODE_ENV&&Or(c.length<=10,"\nThe maximum number of `ruleContexts` is 10. They have been sliced to that limit.\nConsider using `transformRuleContexts` to minimize the number of rules sent to Algolia.\n");var s=r(c).slice(0,10);Nr(a,s)||t.overrideStateWithoutTriggeringChangeEvent(ju(ju({},i),{},{ruleContexts:s}))}function Iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(n),!0).forEach(function(t){Tu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Tu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Du=function(e){var t,n=e.searchAsYouSpeak,r=e.language,i=e.onQueryChange,a=e.onStateChange,o=window.webkitSpeechRecognition||window.SpeechRecognition,c=function(e){return{status:e,transcript:"",isSpeechFinal:!1,errorCode:void 0}},s=c("initial"),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s=Au(Au({},s),e),a()},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";u(c(e))},l=function(){u({status:"waiting"})},h=function(e){u({status:"error",errorCode:e.error})},d=function(e){u({status:"recognizing",transcript:e.results[0]&&e.results[0][0]&&e.results[0][0].transcript||"",isSpeechFinal:e.results[0]&&e.results[0].isFinal}),n&&s.transcript&&i(s.transcript)},p=function(){s.errorCode||!s.transcript||n||i(s.transcript),"error"!==s.status&&u({status:"finished"})},g=function(){t&&(t.stop(),t.removeEventListener("start",l),t.removeEventListener("error",h),t.removeEventListener("result",d),t.removeEventListener("end",p),t=void 0)};return{getState:function(){return s},isBrowserSupported:function(){return Boolean(o)},isListening:function(){return"askingPermission"===s.status||"waiting"===s.status||"recognizing"===s.status},startListening:function(){(t=new o)&&(f("askingPermission"),t.interimResults=!0,r&&(t.lang=r),t.addEventListener("start",l),t.addEventListener("error",h),t.addEventListener("result",d),t.addEventListener("end",p),t.start())},stopListening:function(){g(),f("finished")},dispose:g}};function Nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nu(Object(n),!0).forEach(function(t){Cu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lu=ji({name:"voice-search",connector:!0});function Wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wu(Object(n),!0).forEach(function(t){Mu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Mu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uu(e){return"function"==typeof e.findAnswers}var Qu=ji({name:"answers",connector:!0});function qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qu(Object(n),!0).forEach(function(t){Bu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vu(Object(n),!0).forEach(function(t){Ju(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ju(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ku(e){return(Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Yu=ji({name:"dynamic-widgets",connector:!0}),Zu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,Yu()),function(n){var r=n.widgets,i=n.maxValuesPerFacet,a=void 0===i?20:i,o=n.facets,c=void 0===o?["*"]:o,s=n.transformItems,u=void 0===s?function(e){return e}:s,f=n.fallbackWidget;if(!(r&&Array.isArray(r)&&r.every(function(e){return"object"===Ku(e)})))throw new Error(Yu("The `widgets` option expects an array of widgets."));if(!(Array.isArray(c)&&c.length<=1)||"*"!==c[0]&&void 0!==c[0])throw new Error(Yu('The `facets` option only accepts [] or ["*"], you passed '.concat(JSON.stringify(c))));var l=new Map;return{$$type:"ais.dynamicWidgets",init:function(t){r.forEach(function(e){var n=Ji(e,t);l.set(n,{widget:e,isMounted:!1})}),e(zu(zu({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=t.parent,r=this.getWidgetRenderState(t),i=[],a=[];f&&r.attributesToRender.forEach(function(e){if(!l.has(e)){var t=f({attribute:e});l.set(e,{widget:t,isMounted:!1})}}),l.forEach(function(e,t){var n=e.widget,o=e.isMounted,c=r.attributesToRender.indexOf(t)>-1;!o&&c?(a.push(n),l.set(t,{widget:n,isMounted:!0})):o&&!c&&(i.push(n),l.set(t,{widget:n,isMounted:!1}))}),n.addWidgets(a),setTimeout(function(){return n.removeWidgets(i)},0),e(zu(zu({},r),{},{instantSearchInstance:t.instantSearchInstance}),!1)},dispose:function(e){var n=e.parent,r=[];l.forEach(function(e){e.isMounted&&r.push(e.widget)}),n.removeWidgets(r),t()},getWidgetSearchParameters:function(e){return c.reduce(function(e,t){return e.addFacet(t)},e.setQueryParameters({maxValuesPerFacet:Math.max(a||0,e.maxValuesPerFacet||0)}))},getRenderState:function(e,t){return zu(zu({},e),{},{dynamicWidgets:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,r,i,o,c=e.results,s=e.state;if(!c)return{attributesToRender:[],widgetParams:n};var f=u(null!==(t=null===(r=c.renderingContent)||void 0===r||null===(i=r.facetOrdering)||void 0===i||null===(o=i.facets)||void 0===o?void 0:o.order)&&void 0!==t?t:[],{results:c});if(!Array.isArray(f))throw new Error(Yu("The `transformItems` option expects a function that returns an Array."));return"development"==="production".NODE_ENV&&Or(a>=(s.maxValuesPerFacet||0),"The maxValuesPerFacet set by dynamic widgets (".concat(a,") is smaller than one of the limits set by a widget (").concat(s.maxValuesPerFacet,"). This causes a mismatch in query parameters and thus an extra network request when that widget is mounted.")),"development"==="production".NODE_ENV&&Or(f.length<=20||void 0!==n.facets,"More than ".concat(20," facets are requested to be displayed without explicitly setting which facets to retrieve. This could have a performance impact. Set \"facets\" to [] to do two smaller network requests, or explicitly to ['*'] to avoid this warning.")),{attributesToRender:f,widgetParams:n}}}}};function Xu(){return(Xu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}return function(e,t,n){var r=function(r,i){var a=i.applicationId,o=i.searchKey,c=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(i,["applicationId","searchKey"]),s=t(Xu({searchClient:e(a,o)},c));return{widgets:[],instantsearch:t,addWidget:function(e,t,r){var i=n["connect"+e](r);this.widgets.push(i(t))},init:function(){var e=this;setTimeout(function(){s.addWidgets(e.widgets),s.start()},1)}}};return r.widget=function(e,t,n,r){return Xu({},r,{name:t,config:n,isFirstRender:!0,init:function(){var e=this;this.addWidget(t,n,function(t,n){e.isFirstRender=n,Object.entries(t).forEach(function(t){e[t[0]]=t[1]})})}})},r}(mn,_o,{__proto__:null,connectDynamicWidgets:Zu,EXPERIMENTAL_connectDynamicWidgets:yr(Zu,"use connectDynamicWidgets"),connectClearRefinements:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,To()),function(n){var r=n||{},i=r.includedAttributes,a=void 0===i?[]:i,o=r.excludedAttributes,c=void 0===o?["query"]:o,s=r.transformItems,u=void 0===s?function(e){return e}:s;if(n&&n.includedAttributes&&n.excludedAttributes)throw new Error(To("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var f={refine:vr,createURL:function(){return""},attributesToClear:[]},l=function(){return f.refine()},h=function(){return f.createURL()};return{$$type:"ais.clearRefinements",init:function(t){var n=t.instantSearchInstance;e(Io(Io({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Io(Io({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(){t()},getRenderState:function(e,t){return Io(Io({},e),{},{clearRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.createURL,r=e.results;f.attributesToClear=e.scopedResults.reduce(function(e,t){return e.concat(Do({scopedResult:t,includedAttributes:a,excludedAttributes:c,transformItems:u,results:r}))},[]),f.refine=function(){f.attributesToClear.forEach(function(e){var t=e.helper;t.setState(dr({helper:t,attributesToClear:e.items})).search()})},f.createURL=function(){return t(Oi.apply(void 0,xo(f.attributesToClear.map(function(e){return dr({helper:e.helper,attributesToClear:e.items})}))))};var i=f.attributesToClear.some(function(e){return e.items.length>0});return{canRefine:i,hasRefinements:i,refine:l,createURL:h,widgetParams:n}}}}},connectCurrentRefinements:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,Wo()),function(n){if((n||{}).includedAttributes&&(n||{}).excludedAttributes)throw new Error(Wo("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var r=n||{},i=r.includedAttributes,a=r.excludedAttributes,o=void 0===a?["query"]:a,c=r.transformItems,s=void 0===c?function(e){return e}:c;return{$$type:"ais.currentRefinements",init:function(t){var n=t.instantSearchInstance;e(Co(Co({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Co(Co({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(){t()},getRenderState:function(e,t){return Co(Co({},e),{},{currentRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,r=e.createURL,a=e.helper,c=t?e.scopedResults.reduce(function(e,n){return e.concat(s(Ho({results:n.results,helper:n.helper,includedAttributes:i,excludedAttributes:o}),{results:t}))},[]):s(Ho({results:{},helper:a,includedAttributes:i,excludedAttributes:o}),{results:t});return{items:c,canRefine:c.length>0,refine:function(e){return Uo(a,e)},createURL:function(e){return r(Mo(a.state,e))},widgetParams:n}}}}},connectHierarchicalMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,Ko()),function(n){var r=n||{},i=r.attributes,a=r.separator,o=void 0===a?" > ":a,c=r.rootPath,s=void 0===c?null:c,u=r.showParentLevel,f=void 0===u||u,l=r.limit,h=void 0===l?10:l,d=r.showMore,p=void 0!==d&&d,g=r.showMoreLimit,m=void 0===g?20:g,v=r.sortBy,y=void 0===v?Yo:v,b=r.transformItems,O=void 0===b?function(e){return e}:b;if(!i||!Array.isArray(i)||0===i.length)throw new Error(Ko("The `attributes` option expects an array of strings."));if(!0===p&&m<=h)throw new Error(Ko("The `showMoreLimit` option must be greater than `limit`."));var w,S,j=zo(i,1)[0],P=function(){};function R(){P()}var _=!1;function x(){return _?m:h}function E(e){return e.slice(0,x()).map(function(e){var t=e.name,n=e.path,r=e.data,i=$o($o({},Vo(e,["name","path","data"])),{},{label:t,value:n,data:null});return Array.isArray(r)&&(i.data=E(r)),i})}return{$$type:"ais.hierarchicalMenu",init:function(t){var n=t.instantSearchInstance;e($o($o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;P=function(e,t){return function(){_=!_,t.render(e)}}(t,this),e($o($o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.removeHierarchicalFacet(j).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return $o($o({},e),{},{hierarchicalMenu:$o($o({},e.hierarchicalMenu),{},Bo({},j,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.results,r=e.state,i=e.createURL,a=e.helper,o=[],c=!1;if(w||(w=Hi({instantSearchInstance:e.instantSearchInstance,helper:a,attribute:j,widgetType:this.$$type})),S||(S=function(e){w("click",e),a.toggleFacetRefinement(j,e).search()}),t){var s=t.getFacetValues(j,{sortBy:y,facetOrdering:y===Yo}),u=s&&!Array.isArray(s)&&s.data?s.data:[],f=(r.maxValuesPerFacet||0)>x()?u.length<=x():u.length<x();c=p&&(_||!f),o=O(E(u),{results:t})}return{items:o,refine:S,canRefine:o.length>0,createURL:function(e){return i(r.resetPage().toggleFacetRefinement(j,e))},sendEvent:w,widgetParams:n,isShowingMore:_,toggleShowMore:R,canToggleShowMore:c}},getWidgetUiState:function(e,t){var n=t.searchParameters.getHierarchicalFacetBreadcrumb(j);return n.length?$o($o({},e),{},{hierarchicalMenu:$o($o({},e.hierarchicalMenu),{},Bo({},j,n))}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.hierarchicalMenu&&n.hierarchicalMenu[j];if(e.isHierarchicalFacet(j)){var a=e.getHierarchicalFacetByName(j);"development"==="production".NODE_ENV&&Or(Nr(a.attributes,i)&&a.separator===o&&a.rootPath===s,"Using Breadcrumb and HierarchicalMenu on the same facet with different options overrides the configuration of the HierarchicalMenu.")}var c=e.removeHierarchicalFacet(j).addHierarchicalFacet({name:j,attributes:i,separator:o,rootPath:s,showParentLevel:f}),u=Math.max(c.maxValuesPerFacet||0,p?m:h),l=c.setQueryParameter("maxValuesPerFacet",u);return r?l.addHierarchicalFacetRefinement(j,r.join(o)):l.setQueryParameters({hierarchicalFacetsRefinements:$o($o({},l.hierarchicalFacetsRefinements),{},Bo({},j,[]))})}}}},connectHits:tc,connectHitsWithInsights:cc,connectHitsPerPage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,dc()),function(n){var r=n||{},i=r.items,a=r.transformItems,o=void 0===a?function(e){return e}:a;if(!Array.isArray(i))throw new Error(dc("The `items` option expects an array of objects."));var c=i,s=c.filter(function(e){return!0===e.default});if(0===s.length)throw new Error(dc("A default value must be specified in `items`."));if(s.length>1)throw new Error(dc("More than one default value is specified in `items`."));var u=s[0],f=function(e){return function(t){return t||0===t?e.setQueryParameter("hitsPerPage",t).search():e.setQueryParameter("hitsPerPage",void 0).search()}},l=function(e){var t=e.state,n=e.createURL;return function(e){return n(t.resetPage().setQueryParameter("hitsPerPage",e||0===e?e:void 0))}};return{$$type:"ais.hitsPerPage",init:function(t){var n=t.state,r=t.instantSearchInstance;c.some(function(e){return Number(n.hitsPerPage)===Number(e.value)})||("development"==="production".NODE_ENV&&Or(void 0!==n.hitsPerPage,"\n`hitsPerPage` is not defined.\nThe option `hitsPerPage` needs to be set using the `configure` widget.\n\nLearn more: https://www.algolia.com/doc/api-reference/widgets/hits-per-page/js/\n            "),"development"==="production".NODE_ENV&&Or(!1,'\nThe `items` option of `hitsPerPage` does not contain the "hits per page" value coming from the state: '.concat(n.hitsPerPage,".\n\nYou may want to add another entry to the `items` option with this value.")),c=[{value:"",label:""}].concat(sc(c))),e(lc(lc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var n=t.instantSearchInstance;e(lc(lc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(e,t){return lc(lc({},e),{},{hitsPerPage:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,r,i=e.state,a=e.results,s=e.createURL,u=e.helper;return{items:o((t=i,r=t.hitsPerPage,c.map(function(e){return lc(lc({},e),{},{isRefined:Number(e.value)===Number(r)})})),{results:a}),refine:f(u),createURL:l({state:i,createURL:s}),hasNoResults:!a||0===a.nbHits,widgetParams:n}},getWidgetUiState:function(e,t){var n=t.searchParameters.hitsPerPage;return void 0===n||n===u.value?e:lc(lc({},e),{},{hitsPerPage:n})},getWidgetSearchParameters:function(e,t){return e.setQueryParameters({hitsPerPage:t.uiState.hitsPerPage||u.value})}}}},connectInfiniteHits:jc,connectInfiniteHitsWithInsights:Pc,connectMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,Ac()),function(n){var r,i,a,o=n||{},c=o.attribute,s=o.limit,u=void 0===s?10:s,f=o.showMore,l=void 0!==f&&f,h=o.showMoreLimit,d=void 0===h?20:h,p=o.sortBy,g=void 0===p?Tc:p,m=o.transformItems,v=void 0===m?function(e){return e}:m;if(!c)throw new Error(Ac("The `attribute` option is required."));if(!0===l&&d<=u)throw new Error(Ac("The `showMoreLimit` option must be greater than `limit`."));var y=!1,b=function(){};function O(){b()}function w(){return y?d:u}return{$$type:"ais.menu",init:function(t){var n=t.instantSearchInstance;e(Fc(Fc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Fc(Fc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.removeHierarchicalFacet(c).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return Fc(Fc({},e),{},{menu:Fc(Fc({},e.menu),{},Ic({},c,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.results,o=e.createURL,s=e.helper,u=[],f=!1;if(r||(r=Hi({instantSearchInstance:e.instantSearchInstance,helper:s,attribute:c,widgetType:this.$$type})),i||(i=function(e){return o(s.state.resetPage().toggleFacetRefinement(c,e))}),a||(a=function(e){var t=_c(s.getHierarchicalFacetBreadcrumb(c),1)[0];r("click",e||t),s.toggleFacetRefinement(c,e||t).search()}),e.results&&(b=function(e,t){return function(){y=!y,t.render(e)}}(e,this)),t){var h=t.getFacetValues(c,{sortBy:g,facetOrdering:g===Tc}),d=h&&!Array.isArray(h)&&h.data?h.data:[];f=l&&(y||d.length>w()),u=v(d.slice(0,w()).map(function(e){var t=e.name,n=e.path;return Fc(Fc({},Rc(e,["name","path"])),{},{label:t,value:n})}),{results:t})}return{items:u,createURL:i,refine:a,sendEvent:r,canRefine:u.length>0,widgetParams:n,isShowingMore:y,toggleShowMore:O,canToggleShowMore:f}},getWidgetUiState:function(e,t){var n=_c(t.searchParameters.getHierarchicalFacetBreadcrumb(c),1)[0];return n?Fc(Fc({},e),{},{menu:Fc(Fc({},e.menu),{},Ic({},c,n))}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.menu&&n.menu[c],i=e.removeHierarchicalFacet(c).addHierarchicalFacet({name:c,attributes:[c]}),a=Math.max(i.maxValuesPerFacet||0,l?d:u),o=i.setQueryParameter("maxValuesPerFacet",a);return r?o.addHierarchicalFacetRefinement(c,r):o.setQueryParameters({hierarchicalFacetsRefinements:Fc(Fc({},o.hierarchicalFacetsRefinements),{},Ic({},c,[]))})}}}},connectNumericMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,Wc()),function(n){var r=n||{},i=r.attribute,a=void 0===i?"":i,o=r.items,c=void 0===o?[]:o,s=r.transformItems,u=void 0===s?function(e){return e}:s;if(""===a)throw new Error(Wc("The `attribute` option is required."));if(!c||0===c.length)throw new Error(Wc("The `items` option expects an array of objects."));var f=function(e){return c.map(function(t){var n=t.start,r=t.end,i=t.label;return{label:i,value:encodeURI(JSON.stringify({start:n,end:r})),isRefined:Uc(e,a,{start:n,end:r,label:i})}})},l={};return{$$type:Hc,init:function(t){var n=t.instantSearchInstance;e(Cc(Cc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Cc(Cc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.clearRefinements(a)},getWidgetUiState:function(e,t){var n=t.searchParameters.getNumericRefinements(a),r=n["="]&&n["="][0];if(r||0===r)return Cc(Cc({},e),{},{numericMenu:Cc(Cc({},e.numericMenu),{},Lc({},a,"".concat(n["="])))});var i=n[">="]&&n[">="][0]||"",o=n["<="]&&n["<="][0]||"";return""===i&&""===o?e:Cc(Cc({},e),{},{numericMenu:Cc(Cc({},e.numericMenu),{},Lc({},a,"".concat(i,":").concat(o)))})},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.numericMenu&&n.numericMenu[a],i=e.clearRefinements(a);if(!r)return i.setQueryParameters({numericRefinements:Cc(Cc({},i.numericRefinements),{},Lc({},a,{}))});if(-1===r.indexOf(":"))return i.addNumericRefinement(a,"=",Number(r));var o=Dc(r.split(":").map(parseFloat),2),c=o[0],s=o[1],u=Er(c)?i.addNumericRefinement(a,">=",c):i;return Er(s)?u.addNumericRefinement(a,"<=",s):u},getRenderState:function(e,t){return Cc(Cc({},e),{},{numericMenu:Cc(Cc({},e.numericMenu),{},Lc({},a,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.results,r=e.state,i=e.instantSearchInstance,o=e.helper,c=e.createURL;return l.refine||(l.refine=function(e){var t=Qc(o.state,a,e);l.sendEvent("click",e),o.setState(t).search()}),l.createURL||(l.createURL=function(e){return function(t){return c(Qc(e,a,t))}}),l.sendEvent||(l.sendEvent=Mc({instantSearchInstance:i,helper:o,attribute:a})),{createURL:l.createURL(r),items:u(f(r),{results:t}),hasNoResults:!t||0===t.nbHits,refine:l.refine,sendEvent:l.sendEvent,widgetParams:n}}}}},connectPagination:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,Kc()),function(n){var r=n||{},i=r.totalPages,a=r.padding,o=new Bc({currentPage:0,total:0,padding:void 0===a?3:a}),c={};return{$$type:"ais.pagination",init:function(t){var n=t.instantSearchInstance;e(zc(zc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(zc(zc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("page",void 0)},getWidgetUiState:function(e,t){var n=t.searchParameters.page||0;return n?zc(zc({},e),{},{page:n+1}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState;return e.setQueryParameter("page",n.page?n.page-1:0)},getWidgetRenderState:function(e){var t=e.results,r=e.helper,a=e.state,s=e.createURL;c.refine||(c.refine=function(e){r.setPage(e),r.search()}),c.createURL||(c.createURL=function(e){return function(t){return s(e.setPage(t))}});var u=a.page||0,f=function(e){var t=e.nbPages;return void 0!==i?Math.min(i,t):t}(t||{nbPages:0});return o.currentPage=u,o.total=f,{createURL:c.createURL(a),refine:c.refine,canRefine:f>1,currentRefinement:u,nbHits:(null==t?void 0:t.nbHits)||0,nbPages:f,pages:t?o.pages():[],isFirstPage:o.isFirstPage(),isLastPage:o.isLastPage(),widgetParams:n}},getRenderState:function(e,t){return zc(zc({},e),{},{pagination:this.getWidgetRenderState(t)})}}}},connectRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,ts()),function(n){var r=n||{},i=r.attribute,a=void 0===i?"":i,o=r.min,c=r.max,s=r.precision,u=void 0===s?0:s;if(!a)throw new Error(ts("The `attribute` option is required."));if(Er(o)&&Er(c)&&o>c)throw new Error(ts("The `max` option can't be lower than `min`."));var f={from:function(e){return e.toLocaleString()},to:function(e){return function(e){return Number(Number(e).toFixed(u))}(e).toLocaleString()}},l=function(e,t,n,r){var i,s,f=e.state,l=t.min,h=t.max,d=Gc(f.getNumericRefinement(a,">=")||[],1)[0],p=Gc(f.getNumericRefinement(a,"<=")||[],1)[0],g=void 0===n||""===n,m=void 0===r||""===r,v=rs({min:g?void 0:parseFloat(n),max:m?void 0:parseFloat(r),precision:u}),y=v.min,b=v.max;i=Er(o)||l!==y?Er(o)&&g?o:y:void 0,s=Er(c)||h!==b?Er(c)&&m?c:b:void 0;var O=void 0===i,w=Er(l)&&l<=i,S=O||Er(i)&&(!Er(l)||w),j=void 0===s,P=Er(s)&&h>=s,R=j||Er(s)&&(!Er(h)||P);return(d!==i||p!==s)&&S&&R?(f=f.removeNumericRefinement(a),Er(i)&&(f=f.addNumericRefinement(a,">=",i)),Er(s)&&(f=f.addNumericRefinement(a,"<=",s)),f.resetPage()):null},h=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Filter Applied",i=Bi(e,a);i&&i.length>0&&t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:ns,eventType:"click",payload:{eventName:r,index:n.getIndex(),filters:i},attribute:a})},d=function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(1!==i.length){var o=i[0],c=i[1],s=i[2];if("click"===o){var u=Gc(c,2),f=u[0],d=u[1],p=l(t,n,f,d);h(p,e,t,s)}}else e.sendEventToInsights(i[0])}};function p(e,t,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[void 0,void 0],i=Gc(r,2),a=i[0],o=i[1],c=l(t,n,a,o);c&&(h(c,e,t),t.setState(c).search())}}return{$$type:ns,init:function(t){e(Zc(Zc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(Zc(Zc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return Zc(Zc({},e),{},{range:Zc(Zc({},e.range),{},Xc({},a,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t,r=e.results,i=e.helper,s=e.instantSearchInstance,l=ur(r&&r.disjunctiveFacets||[],function(e){return e.name===a}),h=(t=l&&l.stats||{min:void 0,max:void 0},rs({min:Er(o)?o:Er(t.min)?t.min:0,max:Er(c)?c:Er(t.max)?t.max:0,precision:u})),g=function(e){var t=Gc(e.getNumericRefinement(a,">=")||[],1)[0],n=Gc(e.getNumericRefinement(a,"<=")||[],1)[0];return[Er(t)?t:-Infinity,Er(n)?n:Infinity]}(i);return{refine:p(s,i,r?h:{min:void 0,max:void 0}),canRefine:h.min!==h.max,format:f,range:h,sendEvent:d(s,i,h),widgetParams:Zc(Zc({},n),{},{precision:u}),start:g}},dispose:function(e){var n=e.state;return t(),n.removeDisjunctiveFacet(a).removeNumericRefinement(a)},getWidgetUiState:function(e,t){var n=t.searchParameters.getNumericRefinements(a),r=n[">="],i=void 0===r?[]:r,o=n["<="],c=void 0===o?[]:o;return 0===i.length&&0===c.length?e:Zc(Zc({},e),{},{range:Zc(Zc({},e.range),{},Xc({},a,"".concat(i,":").concat(c)))})},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=e.addDisjunctiveFacet(a).setQueryParameters({numericRefinements:Zc(Zc({},e.numericRefinements),{},Xc({},a,{}))});Er(o)&&(r=r.addNumericRefinement(a,">=",o)),Er(c)&&(r=r.addNumericRefinement(a,"<=",c));var i=n.range&&n.range[a];if(!i||-1===i.indexOf(":"))return r;var s=Gc(i.split(":").map(parseFloat),2),u=s[0],f=s[1];return Er(u)&&(!Er(o)||o<u)&&(r=(r=r.removeNumericRefinement(a,">=")).addNumericRefinement(a,">=",u)),Er(f)&&(!Er(c)||f<c)&&(r=(r=r.removeNumericRefinement(a,"<=")).addNumericRefinement(a,"<=",f)),r}}}},connectRefinementList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,ss()),function(n){var r=n||{},i=r.attribute,a=r.operator,o=void 0===a?"or":a,c=r.limit,s=void 0===c?10:c,u=r.showMore,f=void 0!==u&&u,l=r.showMoreLimit,h=void 0===l?20:l,d=r.sortBy,p=void 0===d?us:d,g=r.escapeFacetValues,m=void 0===g||g,v=r.transformItems,y=void 0===v?function(e){return e}:v;if(!i)throw new Error(ss("The `attribute` option is required."));if(!/^(and|or)$/.test(o))throw new Error(ss('The `operator` must one of: `"and"`, `"or"` (got "'.concat(o,'").')));if(!0===f&&h<=s)throw new Error(ss("`showMoreLimit` should be greater than `limit`."));var b,O,w,S=function(e){var t=e.name;return as(as({},cs(e,["name"])),{},{label:t,value:t,highlighted:t})},j=[],P=!0,R=!1,_=function(){};function x(){_()}function E(){return R?h:s}var F=function(){return function(){}};return{$$type:"ais.refinementList",init:function(t){e(as(as({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(as(as({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return as(as({},e),{},{refinementList:as(as({},e.refinementList),{},os({},i,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(t){var r=t.results,a=t.state,o=t.createURL,c=t.helper,u=[],l=[];if(w&&O&&F||(w=Hi({instantSearchInstance:t.instantSearchInstance,helper:c,attribute:i,widgetType:this.$$type}),O=function(e){w("click",e),c.toggleFacetRefinement(i,e).search()},F=function(t,n){return function(r){return function(a){var o=r.instantSearchInstance,c=r.results;if(""===a&&j)e(as(as({},n.getWidgetRenderState(as(as({},r),{},{results:b}))),{},{instantSearchInstance:o}),!1);else{var s={highlightPreTag:m?Br.highlightPreTag:Vr,highlightPostTag:m?Br.highlightPostTag:zr};t.searchForFacetValues(i,a,Math.min(E(),100),s).then(function(t){var i=m?Zr(t.facetHits):t.facetHits,a=y(i.map(function(e){var t=e.value;return as(as({},cs(e,["value"])),{},{value:t,label:t})}),{results:c});e(as(as({},n.getWidgetRenderState(as(as({},r),{},{results:b}))),{},{items:a,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:o}),!1)})}}}}(c,this)),r){var h=r.getFacetValues(i,{sortBy:p,facetOrdering:p===us});l=h&&Array.isArray(h)?h:[],u=y(l.slice(0,E()).map(S),{results:r});var d=a.maxValuesPerFacet,g=E();P=d>g?l.length<=g:l.length<g,b=r,j=u,t.results&&(_=function(e,t){return function(){R=!R,t.render(e)}}(t,this))}var v=F&&F(t);return{createURL:function(e){return o(a.resetPage().toggleFacetRefinement(i,e))},items:u,refine:O,searchForItems:v,isFromSearch:!1,canRefine:u.length>0,widgetParams:n,isShowingMore:R,canToggleShowMore:R&&j.length>s||f&&!P,toggleShowMore:x,sendEvent:w,hasExhaustiveItems:P}},dispose:function(e){var n=e.state;t();var r=n.setQueryParameter("maxValuesPerFacet",void 0);return"and"===o?r.removeFacet(i):r.removeDisjunctiveFacet(i)},getWidgetUiState:function(e,t){var n=t.searchParameters,r="or"===o?n.getDisjunctiveRefinements(i):n.getConjunctiveRefinements(i);return r.length?as(as({},e),{},{refinementList:as(as({},e.refinementList),{},os({},i,r))}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r="or"===o,a=n.refinementList&&n.refinementList[i],c=e.clearRefinements(i),u=r?c.addDisjunctiveFacet(i):c.addFacet(i),l=Math.max(u.maxValuesPerFacet||0,f?h:s),d=u.setQueryParameter("maxValuesPerFacet",l);if(!a){var p=r?"disjunctiveFacetsRefinements":"facetsRefinements";return d.setQueryParameters(os({},p,as(as({},d[p]),{},os({},i,[]))))}return a.reduce(function(e,t){return r?e.addDisjunctiveFacetRefinement(i,t):e.addFacetRefinement(i,t)},d)}}}},connectSearchBox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,ds()),function(n){var r,i,a=(n||{}).queryHook,o=void 0===a?ps:a;return{$$type:"ais.searchBox",init:function(t){var n=t.instantSearchInstance;e(ls(ls({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(ls(ls({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("query",void 0)},getRenderState:function(e,t){return ls(ls({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.helper;return r||(r=function(e){o(e,function(e){return t.setQuery(e).search()})},i=function(){t.setQuery("").search()}),{query:e.state.query||"",refine:r,clear:i,widgetParams:n,isSearchStalled:e.searchMetadata.isSearchStalled}},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return""===n||e&&e.query===n?e:ls(ls({},e),{},{query:n})},getWidgetSearchParameters:function(e,t){return e.setQueryParameter("query",t.uiState.query||"")}}}},connectSortBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;mr(e,ys());var n={};return function(r){var i=r||{},a=i.items,o=i.transformItems,c=void 0===o?function(e){return e}:o;if(!Array.isArray(a))throw new Error(ys("The `items` option expects an array of objects."));return{$$type:"ais.sortBy",init:function(t){var n=t.instantSearchInstance,r=this.getWidgetRenderState(t),i=r.currentRefinement,o=ur(a,function(e){return e.value===i});"development"==="production".NODE_ENV&&Or(void 0!==o,'The index named "'.concat(i,'" is not listed in the `items` of `sortBy`.')),e(ms(ms({},r),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(ms(ms({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var r=e.state;return t(),n.initialIndex?r.setIndex(n.initialIndex):r},getRenderState:function(e,t){return ms(ms({},e),{},{sortBy:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,i=e.helper,o=e.state,s=e.parent;return!n.initialIndex&&s&&(n.initialIndex=s.getIndexName()),n.setIndex||(n.setIndex=function(e){i.setIndex(e).search()}),{currentRefinement:o.index,options:c(a,{results:t}),refine:n.setIndex,hasNoResults:!t||0===t.nbHits,widgetParams:r}},getWidgetUiState:function(e,t){var r=t.searchParameters.index;return ms(ms({},e),{},{sortBy:r!==n.initialIndex?r:void 0})},getWidgetSearchParameters:function(e,t){return e.setQueryParameter("index",t.uiState.sortBy||n.initialIndex||e.index)}}}},connectRatingMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,_s()),function(n){var r,i=n||{},a=i.attribute,o=i.max,c=void 0===o?5:o;if(!a)throw new Error(_s("The `attribute` option is required."));var s=function(e){var t,n=e.getNumericRefinements(a);if(null!==(t=n[">="])&&void 0!==t&&t.length)return n[">="][0]};function u(e,t){var n=s(e)===Number(t),r=e.resetPage().removeNumericRefinement(a);return n?r:r.addNumericRefinement(a,"<=",c).addNumericRefinement(a,">=",Number(t))}var f=function(e,t){r("click",t),e.setState(u(e.state,t)).search()},l=function(e){return f.bind(null,e)},h=function(e){var t=e.state,n=e.createURL;return function(e){return n(u(t,e))}};return{$$type:xs,init:function(t){var n=t.instantSearchInstance;e(ws(ws({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(ws(ws({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return ws(ws({},e),{},{ratingMenu:ws(ws({},e.ratingMenu),{},Ss({},a,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.helper,i=e.results,o=e.state,u=e.createURL,f=[];if(r||(r=Fs({instantSearchInstance:e.instantSearchInstance,helper:t,getRefinedStar:function(){return s(t.state)},attribute:a})),i){var d=i.getFacetValues(a,{}),p=d.length,g=function(e){var t=0;return e.forEach(function(e){var n=js(e.name.split("."),2)[1];t=Math.max(t,(void 0===n?"":n).length)}),t}(d),m=Math.pow(10,g)*c;"development"==="production".NODE_ENV&&Or(m<=p,function(e){var t=e.maxDecimalPlaces,n=e.maxFacets,r=e.maxValuesPerFacet,i=Math.max(0,Math.floor(Math.log10(Es/c))),o=Math.min(Es,Math.pow(10,i)*c),s=[];return n>Es&&s.push('- Update your records to lower the precision of the values in the "'.concat(a,'" attribute (for example: ').concat(5.123456789.toPrecision(t+1)," to ").concat(5.123456789.toPrecision(i+1),")")),r<o&&s.push("- Increase the maximum number of facet values to ".concat(o,' using the "configure" widget ').concat(Si({name:"configure"}),' and the "maxValuesPerFacet" parameter https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/')),"The ".concat(a," attribute can have ").concat(n," different values (0 to ").concat(c," with a maximum of ").concat(t," decimals = ").concat(n,") but you retrieved only ").concat(r," facet values. Therefore the number of results that match the refinements can be incorrect.\n    ").concat(s.length?"To resolve this problem you can:\n".concat(s.join("\n")):"")}({maxDecimalPlaces:g,maxFacets:m,maxValuesPerFacet:p}));for(var v=s(o),y=function(e){var t=v===e,n=d.filter(function(t){return Number(t.name)>=e&&Number(t.name)<=c}).map(function(e){return e.count}).reduce(function(e,t){return e+t},0);if(v&&!t&&0===n)return"continue";var r=bs(new Array(Math.floor(c/1))).map(function(t,n){return 1*n<e});f.push({stars:r,name:String(e),label:String(e),value:String(e),count:n,isRefined:t})},b=1;b<c;b+=1)y(b)}return{items:f=f.reverse(),hasNoResults:!i||0===i.nbHits,canRefine:f.length>0,refine:l(t),sendEvent:r,createURL:h({state:o,createURL:u}),widgetParams:n}},dispose:function(e){var n=e.state;return t(),n.removeNumericRefinement(a)},getWidgetUiState:function(e,t){var n=s(t.searchParameters);return"number"!=typeof n?e:ws(ws({},e),{},{ratingMenu:ws(ws({},e.ratingMenu),{},Ss({},a,n))})},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.ratingMenu&&n.ratingMenu[a],i=e.clearRefinements(a).addDisjunctiveFacet(a);return r?i.addNumericRefinement(a,"<=",c).addNumericRefinement(a,">=",r):i.setQueryParameters({numericRefinements:ws(ws({},i.numericRefinements),{},Ss({},a,{}))})}}}},connectStats:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,Ds()),function(n){return{$$type:"ais.stats",init:function(t){var n=t.instantSearchInstance;e(As(As({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(As(As({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(){t()},getRenderState:function(e,t){return As(As({},e),{},{stats:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,r=e.state;return t?{hitsPerPage:t.hitsPerPage,nbHits:t.nbHits,nbSortedHits:t.nbSortedHits,areHitsSorted:void 0!==t.appliedRelevancyStrictness&&t.appliedRelevancyStrictness>0&&t.nbSortedHits!==t.nbHits,nbPages:t.nbPages,page:t.page,processingTimeMS:t.processingTimeMS,query:t.query,widgetParams:n}:{hitsPerPage:r.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:r.page||0,processingTimeMS:-1,query:r.query||"",widgetParams:n}}}}},connectToggleRefinement:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,Ls()),function(n){var r=n||{},i=r.attribute,a=r.on,o=void 0===a||a,c=r.off;if(!i)throw new Error(Ls("The `attribute` option is required."));var s,u=void 0!==c,f=wi(o).map(pr),l=u?wi(c).map(pr):void 0,h=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isRefined:!1},n=t.isRefined;n?(f.forEach(function(t){return e.removeDisjunctiveFacetRefinement(i,t)}),u&&l.forEach(function(t){return e.addDisjunctiveFacetRefinement(i,t)})):(s("click",n),u&&l.forEach(function(t){return e.removeDisjunctiveFacetRefinement(i,t)}),f.forEach(function(t){return e.addDisjunctiveFacetRefinement(i,t)})),e.search()}},d=function(e,t){var n=t.state,r=t.createURL;return function(){n=n.resetPage();var t=e?f:l;t&&t.forEach(function(e){n=n.removeDisjunctiveFacetRefinement(i,e)});var a=e?l:f;return a&&a.forEach(function(e){n=n.addDisjunctiveFacetRefinement(i,e)}),r(n)}};return{$$type:Ws,init:function(t){var n=t.instantSearchInstance;e(ks(ks({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(ks(ks({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.removeDisjunctiveFacet(i)},getRenderState:function(e,t){return ks(ks({},e),{},{toggleRefinement:ks(ks({},e.toggleRefinement),{},Cs({},i,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.state,r=e.helper,a=e.results,o=e.createURL,c=e.instantSearchInstance,p=f.every(function(e){return t.isDisjunctiveFacetRefined(i,e)}),g={isRefined:p,count:0},m={isRefined:u&&!p,count:0};if(a){var v=wi(l||!1),y=a.getFacetValues(i,{})||[],b=f.map(function(e){return ur(y,function(t){return t.name===fr(e)})}).filter(function(e){return void 0!==e}),O=u?v.map(function(e){return ur(y,function(t){return t.name===fr(e)})}).filter(function(e){return void 0!==e}):[];g={isRefined:!!b.length&&b.every(function(e){return e.isRefined}),count:b.reduce(function(e,t){return e+t.count},0)||null},m={isRefined:!!O.length&&O.every(function(e){return e.isRefined}),count:O.reduce(function(e,t){return e+t.count},0)||y.reduce(function(e,t){return e+t.count},0)}}s||(s=Hs({instantSearchInstance:c,attribute:i,on:f,helper:r}));var w=p?m:g;return{value:{name:i,isRefined:p,count:a?w.count:null,onFacetValue:g,offFacetValue:m},createURL:d(p,{state:t,createURL:o}),sendEvent:s,canRefine:Boolean(a?w.count:null),refine:h(r),widgetParams:n}},getWidgetUiState:function(e,t){var n=t.searchParameters,r=f&&f.every(function(e){return n.isDisjunctiveFacetRefined(i,e)});return r?ks(ks({},e),{},{toggle:ks(ks({},e.toggle),{},Cs({},i,r))}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=e.clearRefinements(i).addDisjunctiveFacet(i);return Boolean(n.toggle&&n.toggle[i])?(f&&f.forEach(function(e){r=r.addDisjunctiveFacetRefinement(i,e)}),r):u?(l&&l.forEach(function(e){r=r.addDisjunctiveFacetRefinement(i,e)}),r):r.setQueryParameters({disjunctiveFacetsRefinements:ks(ks({},e.disjunctiveFacetsRefinements),{},Cs({},i,[]))})}}}},connectBreadcrumb:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;mr(e,Bs());var n={};return function(r){var i=r||{},a=i.attributes,o=i.separator,c=void 0===o?" > ":o,s=i.rootPath,u=void 0===s?null:s,f=i.transformItems,l=void 0===f?function(e){return e}:f;if(!a||!Array.isArray(a)||0===a.length)throw new Error(Bs("The `attributes` option expects an array of strings."));var h=qs(a,1)[0];function d(e,t){if(!t){var n=e.getHierarchicalFacetBreadcrumb(h);return 0===n.length?e:e.resetPage().toggleFacetRefinement(h,n[0])}return e.resetPage().toggleFacetRefinement(h,t)}return{$$type:"ais.breadcrumb",init:function(t){e(Us(Us({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(Us(Us({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},dispose:function(){t()},getRenderState:function(e,t){return Us(Us({},e),{},{breadcrumb:Us(Us({},e.breadcrumb),{},Qs({},h,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.helper,i=e.createURL,a=e.results,o=e.state,c=function(){if(!a||0===o.hierarchicalFacets.length)return[];var e=qs(o.hierarchicalFacets,1),t=a.getFacetValues(e[0].name,{}),n=Array.isArray(t.data)?t.data:[];return l(zs(Vs(n)),{results:a})}();return n.createURL||(n.createURL=function(e){return i(d(t.state,e))}),n.refine||(n.refine=function(e){t.setState(d(t.state,e)).search()}),{canRefine:c.length>0,createURL:n.createURL,items:c,refine:n.refine,widgetParams:r}},getWidgetSearchParameters:function(e){if(e.isHierarchicalFacet(h)){var t=e.getHierarchicalFacetByName(h);return"development"==="production".NODE_ENV&&Or(Nr(t.attributes,a)&&t.separator===c&&t.rootPath===u,"Using Breadcrumb and HierarchicalMenu on the same facet with different options overrides the configuration of the HierarchicalMenu."),e}return e.addHierarchicalFacet({name:h,attributes:a,separator:c,rootPath:u})}}}},connectGeoSearch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,Zs()),function(n){var r,i=n||{},a=i.enableRefineOnMapMove,o=i.transformItems,c=void 0===o?function(e){return e}:o,s={isRefineOnMapMove:void 0===a||a,hasMapMoveSinceLastRefine:!1,lastRefinePosition:"",lastRefineBoundingBox:"",internalToggleRefineOnMapMove:vr,internalSetMapMoveSinceLastRefine:vr},u=function(e){return e.aroundLatLng?xi(e.aroundLatLng):void 0},f=function(e){return e.insideBoundingBox&&Ei(e.insideBoundingBox)},l=function(e){return function(t){var n=t.northEast,r=t.southWest,i=[n.lat,n.lng,r.lat,r.lng].join();e.setState(Gs(e.state,i).resetPage()).search(),s.hasMapMoveSinceLastRefine=!1,s.lastRefineBoundingBox=i}},h=function(e){return function(){e.setQueryParameter("insideBoundingBox",void 0).search()}},d=function(e){return function(){return Boolean(e.insideBoundingBox)}},p=function(){return s.internalToggleRefineOnMapMove()},g=function(e,t){return function(){s.isRefineOnMapMove=!s.isRefineOnMapMove,t(e)}},m=function(){return s.isRefineOnMapMove},v=function(){return s.internalSetMapMoveSinceLastRefine()},y=function(e,t){return function(){var n=!0!==s.hasMapMoveSinceLastRefine;s.hasMapMoveSinceLastRefine=!0,n&&t(e)}},b=function(){return s.hasMapMoveSinceLastRefine};return{$$type:eu,init:function(t){var n=t.instantSearchInstance;s.internalToggleRefineOnMapMove=g(t,vr),s.internalSetMapMoveSinceLastRefine=y(t,vr),e(Ks(Ks({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance,i=t.helper.state,a=Boolean(i.aroundLatLng)&&Boolean(s.lastRefinePosition)&&i.aroundLatLng!==s.lastRefinePosition,o=!i.insideBoundingBox&&Boolean(s.lastRefineBoundingBox)&&i.insideBoundingBox!==s.lastRefineBoundingBox;(a||o)&&(s.hasMapMoveSinceLastRefine=!1),s.lastRefinePosition=i.aroundLatLng||"",s.lastRefineBoundingBox=Xs(i),s.internalToggleRefineOnMapMove=g(t,this.render.bind(this)),s.internalSetMapMoveSinceLastRefine=y(t,this.render.bind(this));var c=this.getWidgetRenderState(t);r("view",c.items),e(Ks(Ks({},c),{},{instantSearchInstance:n}),!1)},getWidgetRenderState:function(e){var t=e.helper,i=e.results,a=e.instantSearchInstance,o=t.state,s=i?c(i.hits.filter(function(e){return e._geoloc}),{results:i}):[];return r||(r=qi({instantSearchInstance:a,index:t.getIndex(),widgetType:eu})),{items:s,position:u(o),currentRefinement:f(o),refine:l(t),sendEvent:r,clearMapRefinement:h(t),isRefinedWithMap:d(o),toggleRefineOnMapMove:p,isRefineOnMapMove:m,setMapMoveSinceLastRefine:v,hasMapMoveSinceLastRefine:b,widgetParams:n}},getRenderState:function(e,t){return Ks(Ks({},e),{},{geoSearch:this.getWidgetRenderState(t)})},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("insideBoundingBox",void 0)},getWidgetUiState:function(e,t){var n=Xs(t.searchParameters);return!n||e&&e.geoSearch&&e.geoSearch.boundingBox===n?e:Ks(Ks({},e),{},{geoSearch:{boundingBox:n}})},getWidgetSearchParameters:function(e,t){var n=t.uiState;return n&&n.geoSearch?Gs(e,n.geoSearch.boundingBox):e.setQueryParameter("insideBoundingBox",void 0)}}}},connectPoweredBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;mr(e,iu());var n="https://www.algolia.com/?utm_source=instantsearch.js&utm_medium=website&"+"utm_content=".concat(Ki(function(e){var t;return(null===(t=e.window.location)||void 0===t?void 0:t.hostname)||""},{fallback:function(){return""}}),"&")+"utm_campaign=poweredby";return function(r){var i=(r||{}).url,a=void 0===i?n:i;return{$$type:"ais.poweredBy",init:function(t){var n=t.instantSearchInstance;e(nu(nu({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(nu(nu({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return nu(nu({},e),{},{poweredBy:this.getWidgetRenderState(t)})},getWidgetRenderState:function(){return{url:a,widgetParams:r}},dispose:function(){t()}}}},connectConfigure:fu,EXPERIMENTAL_connectConfigureRelatedItems:function(e,t){return function(n){var r=n||{},i=r.hit,a=r.matchingPatterns,o=r.transformSearchParameters,c=void 0===o?function(e){return e}:o;if(!i)throw new Error(mu("The `hit` option is required."));if(!a)throw new Error(mu("The `matchingPatterns` option is required."));var s=Object.keys(a).reduce(function(e,t){var n=a[t],r=xr(i,t),o=n.score;return Array.isArray(r)?[].concat(pu(e),[r.map(function(e){return vu({attributeName:t,attributeValue:e,attributeScore:o})})]):"string"==typeof r?[].concat(pu(e),[vu({attributeName:t,attributeValue:r,attributeScore:o})]):("development"==="production".NODE_ENV&&Or(!1,"\nThe `matchingPatterns` option returned a value of type ".concat(gr(r),' for the "').concat(t,'" key. This value was not sent to Algolia because `optionalFilters` only supports strings and array of strings.\n\nYou can remove the "').concat(t,'" key from the `matchingPatterns` option.\n\nSee https://www.algolia.com/doc/api-reference/api-parameters/optionalFilters/\n            ')),e)},[]),u=hu({},c(new ir.SearchParameters({sumOrFiltersScores:!0,facetFilters:["objectID:-".concat(i.objectID)],optionalFilters:s})));return hu(hu({},fu(e,t)({searchParameters:u})),{},{$$type:"ais.configureRelatedItems"})}},connectAutocomplete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,wu()),function(n){var r=(n||{}).escapeHTML,i=void 0===r||r;"development"==="production".NODE_ENV&&Or(!n.indices,"\nThe option `indices` has been removed from the Autocomplete connector.\n\nThe indices to target are now inferred from the widgets tree.\n".concat(Array.isArray(n.indices)?"\nAn alternative would be:\n\nconst autocomplete = connectAutocomplete(renderer);\n\nsearch.addWidgets([\n  ".concat(n.indices.map(function(e){return"index({ indexName: '".concat(e.value,"' }),")}).join("\n  "),"\n  autocomplete()\n]);\n"):"","\n      "));var a={};return{$$type:"ais.autocomplete",init:function(t){var n=t.instantSearchInstance;e(bu(bu({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance,r=this.getWidgetRenderState(t);r.indices.forEach(function(e){(0,e.sendEvent)("view",e.hits)}),e(bu(bu({},r),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return bu(bu({},e),{},{autocomplete:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=this,r=e.helper,o=e.state,c=e.scopedResults,s=e.instantSearchInstance;a.refine||(a.refine=function(e){r.setQuery(e).search()});var u=c.map(function(e){e.results.hits=i?Yr(e.results.hits):e.results.hits;var n=qi({instantSearchInstance:s,index:e.results.index,widgetType:t.$$type});return{indexId:e.indexId,indexName:e.results.index,hits:e.results.hits,results:e.results,sendEvent:n}});return{currentRefinement:o.query||"",indices:u,refine:a.refine,widgetParams:n}},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return""===n||e&&e.query===n?e:bu(bu({},e),{},{query:n})},getWidgetSearchParameters:function(e,t){var n={query:t.uiState.query||""};return e.setQueryParameters(i?bu(bu({},n),Br):n)},dispose:function(e){var n=e.state;t();var r=n.setQueryParameter("query",void 0);return i?r.setQueryParameters(Object.keys(Br).reduce(function(e,t){return bu(bu({},e),{},Ou({},t,void 0))},{})):r}}}},connectQueryRules:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,xu()),function(n){var r=n||{},i=r.trackedFilters,a=void 0===i?{}:i,o=r.transformRuleContexts,c=void 0===o?function(e){return e}:o,s=r.transformItems,u=void 0===s?function(e){return e}:s;Object.keys(a).forEach(function(e){if("function"!=typeof a[e])throw new Error(xu("'The \"".concat(e,'" filter value in the `trackedFilters` option expects a function.')))});var f,l=Object.keys(a).length>0,h=[];return{$$type:"ais.queryRules",init:function(t){var r=t.helper,i=t.state,o=t.instantSearchInstance;f=Fu.bind({helper:r,initialRuleContexts:h=i.ruleContexts||[],trackedFilters:a,transformRuleContexts:c}),l&&((Eu(i)||Boolean(n.transformRuleContexts))&&f({state:i}),r.on("change",f)),e(ju(ju({},this.getWidgetRenderState(t)),{},{instantSearchInstance:o}),!0)},render:function(t){var n=t.instantSearchInstance;e(ju(ju({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getWidgetRenderState:function(e){var t=e.results,r=(t||{}).userData;return{items:u(void 0===r?[]:r,{results:t}),widgetParams:n}},getRenderState:function(e,t){return ju(ju({},e),{},{queryRules:this.getWidgetRenderState(t)})},dispose:function(e){var n=e.helper,r=e.state;return t(),l?(n.removeListener("change",f),r.setQueryParameter("ruleContexts",h)):r}}}},connectVoiceSearch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,Lu()),function(n){var r=n.searchAsYouSpeak,i=void 0!==r&&r,a=n.language,o=n.additionalQueryParameters,c=n.createVoiceSearchHelper,s=void 0===c?Du:c;return{$$type:"ais.voiceSearch",init:function(t){var n=t.instantSearchInstance;e(ku(ku({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(ku(ku({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return ku(ku({},e),{},{voiceSearch:this.getWidgetRenderState(t)})},getWidgetRenderState:function(t){var r=this,c=t.helper,u=t.instantSearchInstance;this._refine||(this._refine=function(e){if(e!==c.state.query){var t=a?[a.split("-")[0]]:void 0;c.setQueryParameter("queryLanguages",t),"function"==typeof o&&c.setState(c.state.setQueryParameters(ku({ignorePlurals:!0,removeStopWords:!0,optionalWords:e},o({query:e})))),c.setQuery(e).search()}}),this._voiceSearchHelper||(this._voiceSearchHelper=s({searchAsYouSpeak:i,language:a,onQueryChange:function(e){return r._refine(e)},onStateChange:function(){e(ku(ku({},r.getWidgetRenderState(t)),{},{instantSearchInstance:u}),!1)}}));var f=this._voiceSearchHelper,l=f.isBrowserSupported,h=f.isListening,d=f.startListening,p=f.stopListening,g=f.getState;return{isBrowserSupported:l(),isListening:h(),toggleListening:function(){l()&&(h()?p():d())},voiceListeningState:g(),widgetParams:n}},dispose:function(e){var n=e.state;this._voiceSearchHelper.dispose(),t();var r=n;if("function"==typeof o){var i=o({query:""}),a=i?Object.keys(i).reduce(function(e,t){return e[t]=void 0,e},{}):{};r=n.setQueryParameters(ku({queryLanguages:void 0,ignorePlurals:void 0,removeStopWords:void 0,optionalWords:void 0},a))}return r.setQueryParameter("query",void 0)},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return n?ku(ku({},e),{},{query:n}):e},getWidgetSearchParameters:function(e,t){return e.setQueryParameter("query",t.uiState.query||"")}}}},EXPERIMENTAL_connectAnswers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return mr(e,Qu()),function(n){var r=n||{},i=r.queryLanguages,a=r.attributesForPrediction,o=r.nbHits,c=void 0===o?1:o,s=r.renderDebounceTime,u=void 0===s?100:s,f=r.searchDebounceTime,l=void 0===f?100:f,h=r.escapeHTML,d=void 0===h||h,p=r.extraParameters,g=void 0===p?{}:p;if(!i||0===i.length)throw new Error(Qu("The `queryLanguages` expects an array of strings."));var m,v=Vi(),y=[],b=!1,O=zi(e,u);return{$$type:"ais.answers",init:function(t){var n=t.instantSearchInstance.client.initIndex(t.state.index);if(!Uu(n))throw new Error(Qu("`algoliasearch` >= 4.8.0 required."));m=zi(n.findAnswers,l),e(Hu(Hu({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=this,r=t.state.query;if(!r)return y=[],b=!1,void e(Hu(Hu({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1);y=[],b=!0,e(Hu(Hu({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1),v(m(r,i,Hu(Hu({},g),{},{nbHits:c,attributesForPrediction:a}))).then(function(e){if(e){d&&e.hits.length>0&&(e.hits=Yr(e.hits));var r=Ci(Ti(e.hits,0,c),e.queryID);y=r,b=!1,O(Hu(Hu({},n.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)}})},getRenderState:function(e,t){return Hu(Hu({},e),{},{answers:this.getWidgetRenderState(t)})},getWidgetRenderState:function(){return{hits:y,isLoading:b,widgetParams:n}},dispose:function(e){var n=e.state;return t(),n},getWidgetSearchParameters:function(e){return e}}}},connectRelevantSort:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;return function(n){var r={};return{$$type:"ais.relevantSort",init:function(t){var n=t.instantSearchInstance;e($u($u({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e($u($u({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("relevancyStrictness",void 0)},getRenderState:function(e,t){return $u($u({},e),{},{relevantSort:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,i=e.helper;r.refine||(r.refine=function(e){i.setQueryParameter("relevancyStrictness",e).search()});var a=(t||{}).appliedRelevancyStrictness,o=void 0!==a;return{isRelevantSorted:void 0!==a&&a>0,isVirtualReplica:o,canRefine:o,refine:r.refine,widgetParams:n}},getWidgetSearchParameters:function(e,t){var n;return e.setQueryParameter("relevancyStrictness",null!==(n=t.uiState.relevantSort)&&void 0!==n?n:e.relevancyStrictness)},getWidgetUiState:function(e,t){var n=t.searchParameters;return $u($u({},e),{},{relevantSort:n.relevancyStrictness||e.relevantSort})}}}}})}();
